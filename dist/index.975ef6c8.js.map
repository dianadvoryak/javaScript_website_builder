{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-5653ed534e6c3b1c.js","src/index.js","src/model.js","node_modules/@parcel/runtime-js/lib/runtime-07158581e6faa3b2.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/classes/blocks.js","src/utils.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/@eastdesire/jscolor/jscolor.js","src/classes/app.js","src/classes/site.js","src/classes/sidebar.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"890e741a975ef6c8\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, globalThis, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData = undefined;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, acceptedAssets\n/*: {|[string]: boolean|} */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // Web extension context\n\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome; // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n\n  var supportsSourceURL = false;\n\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  } // $FlowFixMe\n\n\n  ws.onmessage = async function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    acceptedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH); // Handle HMR Update\n\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear(); // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n\n        await hmrApplyUpdates(assets);\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else fullReload();\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n\n      return new Promise((resolve, reject) => {\n        var _document$head;\n\n        script.onload = () => resolve(script);\n\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\n\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      } // $FlowFixMe\n\n\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push(...p);\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToAccept.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n}\n\nfunction hmrAcceptRun(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n  cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n\n  acceptedAssets[id] = true;\n}","import { model } from './model'\nimport { App } from './classes/app'\nimport './styles/main.css'\n\nnew App(model)\n\n","import image from './assets/image.png'\nimport {TextBlock, TitleBlock, ColumnsBlock, ImageBlock} from './classes/blocks'\nimport * as jscolor from '@eastdesire/jscolor'\n\n\nexport const model = [\n  new TitleBlock('JavaScript Website Builder', {\n    tag: 'h2',\n    styles: {\n      background: 'linear-gradient(90deg, #c9b6bc,#e0e5eb)',\n      color: '#475272',\n      padding: '1.5rem',\n      'text-align': 'center'\n    }\n  }),\n  new ImageBlock(image, {\n    styles: {\n      padding: '1rem 0',\n      display: 'flex',\n      'justify-content': 'center'\n    },\n    imageStyles: {\n      width: '300px',\n      height: '300px'\n    },\n    alt: 'Это картинка'\n  }),\n  new ColumnsBlock([\n    'You can enter title, text and columns.',\n    'Do not enter text in those columns that you do not want to fill in, the constructor will display only filled ones.',\n  ], {\n    styles: {\n      background: 'linear-gradient(90deg, #a2a49f,#e0d0c4,#f1dac4)',\n      padding: '2rem',\n      color: '#000',\n      'font-weight': 'bold'\n    }\n  }),\n  new TextBlock('In the sidebar, you can adjust the size and color of the text, and the background color.', {\n    styles: {\n      background: 'linear-gradient(90deg, #475272,#9391ab,#ded8e8)',\n      padding: '1rem',\n      'font-weight': 'bold'\n    }\n  })\n]","module.exports = require('./helpers/bundle-url').getBundleURL('bLxZJ') + \"image.513edb25.png\" + \"?\" + Date.now();","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import { row, col, css } from './../utils'\n\nclass Block{\n  constructor(value, options){\n    this.value = value\n    this.options = options\n  }\n\n  toHTML(){\n    throw new Error('Метод toHTML должен быть реализован')\n  }\n}\n\nexport class TitleBlock extends Block{\n  constructor(value, options){\n    super(value, options)\n  }\n\n  toHTML(){\n    const {tag = 'h1', styles, fz} = this.options\n    // console.log(styles)\n    return row(col(`<${tag} style=\"${css(fz)}\">${this.value}</${tag}>`), css(styles))\n  }\n}\n\nexport class TextBlock extends Block{\n  constructor(value, options){\n    super(value, options)\n  }\n\n  toHTML(){\n    return row(col(`<p>${this.value}</p>`), css(this.options.styles))\n  }\n}\n\nexport class ColumnsBlock extends Block{\n  constructor(value, options){\n    super(value, options)\n  }\n  \n  toHTML(){\n    const html = this.value.map(col).join('')\n    return row(html, css(this.options.styles))\n  }\n}\n\nexport class ImageBlock extends Block{\n  constructor(value, options){\n    super(value, options)\n  }\n\n  toHTML(){\n    const {imageStyles: is, alt = '', styles} = this.options\n    return row(`<img src=\"${this.value}\" alt=\"${alt}\" style=\"${css(is)}\" />`, css(styles))\n  }\n}\n\n\n","export function row(content, styles = ''){\n  return `<div class=\"row\" style=\"${styles}\">${content}</div>`\n}\n\nexport function col(content){\n  return `<div class=\"col-sm\">${content}</div>`\n}\n\nexport function css(styles = {}){\n  if(typeof styles === 'string') return styles\n  const toString = key => `${key}: ${styles[key]}`\n  return Object.keys(styles).map(toString).join(';')\n}\n\n\nexport function TitleHTML(type){\n  return `\n  <form name=\"${type}\">\n  <h5>${type}</h5>\n  <div class=\"form-group\">\n    <input class=\"form-control form-control-sm\" name=\"value\" placeholder=\"enter title\">\n  <div>\n\n  <div class=\"btn-group input-group-sm\" aria-label=\"First group\">\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h1\" autocomplete=\"off\" checked>\n    <label class=\"btn btn-outline-primary\" for=\"h1\">h1</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h2\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"h2\">h2</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h3\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"h3\">h3</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h4\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"h4\">h4</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h5\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"h5\">h5</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"tag\" id=\"h6\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"h6\">h6</label>\n  </div>\n\n  <div class=\"btn-group input-group-sm\" aria-label=\"Second group\">\n    <span class=\"input-group-text\">text-align:</span>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"text-align\" id=\"left\" autocomplete=\"off\" checked>\n    <label class=\"btn btn-outline-primary\" for=\"left\">left</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"text-align\" id=\"center\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"center\">center</label>\n\n    <input type=\"radio\" class=\"btn-check\" name=\"text-align\" id=\"right\" autocomplete=\"off\">\n    <label class=\"btn btn-outline-primary\" for=\"right\">right</label>\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">font-size:</span>\n    <input type=\"text\" class=\"form-control\" placeholder=\"16\" name=\"font-size\">\n    <span class=\"input-group-text\">px;</span>\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">color:</span>\n    <input data-jscolor=\"\" value=\"#000\" type=\"text\" class=\"form-control\" name=\"color\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">background:</span>\n    <input data-jscolor=\"\" type=\"text\" class=\"form-control\" name=\"background\">\n  </div>\n<button type=\"submit\" class=\"btn btn-primary btn-sm\">add</button>\n</form>\n<hr />\n  `\n}\n\nexport function TextHTML(type){\n  return `\n  <form name=\"${type}\">\n  <h5>${type}</h5>\n  <div class=\"form-group\">\n    <input class=\"form-control form-control-sm\" name=\"value\" placeholder=\"enter text\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">font-size:</span>\n    <input type=\"text\" class=\"form-control\" placeholder=\"16\" name=\"font-size\">\n    <span class=\"input-group-text\">px;</span>\n  </div>\n  \n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">color:</span>\n    <input data-jscolor=\"\" value=\"#000\" type=\"text\" class=\"form-control\" name=\"color\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">background:</span>\n    <input data-jscolor=\"\" type=\"text\" class=\"form-control\" name=\"background\">\n  </div>\n  \n  <button type=\"submit\" class=\"btn btn-primary btn-sm\">add</button>\n</form>\n<hr />\n  `\n}\n\nexport function ColumnsHTML(type){\n  return `\n  <form name=\"${type}\">\n  <h5>${type}</h5>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">Columns 1</span>\n    <input class=\"form-control form-control-sm\" name=\"value1\" placeholder=\"enter text\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">Columns 2</span>\n    <input class=\"form-control form-control-sm\" name=\"value2\" placeholder=\"enter text\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">Columns 3</span>\n    <input class=\"form-control form-control-sm\" name=\"value3\" placeholder=\"enter text\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">Columns 4</span>\n    <input class=\"form-control form-control-sm\" name=\"value4\" placeholder=\"enter text\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">Columns 5</span>\n    <input class=\"form-control form-control-sm\" name=\"value5\" placeholder=\"enter text\">\n  </div>\n\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">font-size:</span>\n    <input type=\"text\" class=\"form-control\" placeholder=\"16\" name=\"font-size\">\n    <span class=\"input-group-text\">px;</span>\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">color:</span>\n    <input data-jscolor=\"\" value=\"#000\" type=\"text\" class=\"form-control\" name=\"color\">\n  </div>\n\n  <div class=\"input-group mb-3 input-group-sm\">\n    <span class=\"input-group-text\">background:</span>\n    <input data-jscolor=\"\" type=\"text\" class=\"form-control\" name=\"background\">\n  </div>\n  \n  <button type=\"submit\" class=\"btn btn-primary btn-sm\">add</button>\n</form>\n<hr />\n  `\n}\n\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","/**\r\n * jscolor - JavaScript Color Picker\r\n *\r\n * @link    http://jscolor.com\r\n * @license For open source use: GPLv3\r\n *          For commercial use: JSColor Commercial License\r\n * @author  Jan Odvarko - East Desire\r\n *\r\n * See usage examples at http://jscolor.com/examples/\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n\r\n\t'use strict';\r\n\r\n\tif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\t\t// Export jscolor as a module\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory (global) :\r\n\t\t\tfunction (win) {\r\n\t\t\t\tif (!win.document) {\r\n\t\t\t\t\tthrow new Error('jscolor needs a window with document');\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(win);\r\n\t\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Default use (no module export)\r\n\tfactory(global);\r\n\r\n})(typeof window !== 'undefined' ? window : this, function (window) { // BEGIN factory\r\n\r\n// BEGIN jscolor code\r\n\r\n\r\n'use strict';\r\n\r\n\r\nvar jscolor = (function () { // BEGIN jscolor\r\n\r\nvar jsc = {\r\n\r\n\r\n\tinitialized : false,\r\n\r\n\tinstances : [], // created instances of jscolor\r\n\r\n\treadyQueue : [], // functions waiting to be called after init\r\n\r\n\r\n\tregister : function () {\r\n\t\tif (typeof window !== 'undefined' && window.document) {\r\n\t\t\twindow.document.addEventListener('DOMContentLoaded', jsc.pub.init, false);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tinstallBySelector : function (selector, rootNode) {\r\n\t\trootNode = rootNode ? jsc.node(rootNode) : window.document;\r\n\t\tif (!rootNode) {\r\n\t\t\tthrow new Error('Missing root node');\r\n\t\t}\r\n\r\n\t\tvar elms = rootNode.querySelectorAll(selector);\r\n\r\n\t\t// for backward compatibility with DEPRECATED installation/configuration using className\r\n\t\tvar matchClass = new RegExp('(^|\\\\s)(' + jsc.pub.lookupClass + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\r\n\r\n\t\tfor (var i = 0; i < elms.length; i += 1) {\r\n\r\n\t\t\tif (elms[i].jscolor && elms[i].jscolor instanceof jsc.pub) {\r\n\t\t\t\tcontinue; // jscolor already installed on this element\r\n\t\t\t}\r\n\r\n\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color' && jsc.isColorAttrSupported) {\r\n\t\t\t\tcontinue; // skips inputs of type 'color' if supported by the browser\r\n\t\t\t}\r\n\r\n\t\t\tvar dataOpts, m;\r\n\r\n\t\t\tif (\r\n\t\t\t\t(dataOpts = jsc.getDataAttr(elms[i], 'jscolor')) !== null ||\r\n\t\t\t\t(elms[i].className && (m = elms[i].className.match(matchClass))) // installation using className (DEPRECATED)\r\n\t\t\t) {\r\n\t\t\t\tvar targetElm = elms[i];\r\n\r\n\t\t\t\tvar optsStr = '';\r\n\t\t\t\tif (dataOpts !== null) {\r\n\t\t\t\t\toptsStr = dataOpts;\r\n\r\n\t\t\t\t} else if (m) { // installation using className (DEPRECATED)\r\n\t\t\t\t\tconsole.warn('Installation using class name is DEPRECATED. Use data-jscolor=\"\" attribute instead.' + jsc.docsRef);\r\n\t\t\t\t\tif (m[4]) {\r\n\t\t\t\t\t\toptsStr = m[4];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar opts = null;\r\n\t\t\t\tif (optsStr.trim()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\topts = jsc.parseOptionsStr(optsStr);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e + '\\n' + optsStr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tnew jsc.pub(targetElm, opts);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tparseOptionsStr : function (str) {\r\n\t\tvar opts = null;\r\n\r\n\t\ttry {\r\n\t\t\topts = JSON.parse(str);\r\n\r\n\t\t} catch (eParse) {\r\n\t\t\tif (!jsc.pub.looseJSON) {\r\n\t\t\t\tthrow new Error('Could not parse jscolor options as JSON: ' + eParse);\r\n\t\t\t} else {\r\n\t\t\t\t// loose JSON syntax is enabled -> try to evaluate the options string as JavaScript object\r\n\t\t\t\ttry {\r\n\t\t\t\t\topts = (new Function ('var opts = (' + str + '); return typeof opts === \"object\" ? opts : {};'))();\r\n\t\t\t\t} catch (eEval) {\r\n\t\t\t\t\tthrow new Error('Could not evaluate jscolor options: ' + eEval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn opts;\r\n\t},\r\n\r\n\r\n\tgetInstances : function () {\r\n\t\tvar inst = [];\r\n\t\tfor (var i = 0; i < jsc.instances.length; i += 1) {\r\n\t\t\t// if the targetElement still exists, the instance is considered \"alive\"\r\n\t\t\tif (jsc.instances[i] && jsc.instances[i].targetElement) {\r\n\t\t\t\tinst.push(jsc.instances[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn inst;\r\n\t},\r\n\r\n\r\n\tcreateEl : function (tagName) {\r\n\t\tvar el = window.document.createElement(tagName);\r\n\t\tjsc.setData(el, 'gui', true);\r\n\t\treturn el;\r\n\t},\r\n\r\n\r\n\tnode : function (nodeOrSelector) {\r\n\t\tif (!nodeOrSelector) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (typeof nodeOrSelector === 'string') {\r\n\t\t\t// query selector\r\n\t\t\tvar sel = nodeOrSelector;\r\n\t\t\tvar el = null;\r\n\t\t\ttry {\r\n\t\t\t\tel = window.document.querySelector(sel);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (!el) {\r\n\t\t\t\tconsole.warn('No element matches the selector: %s', sel);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t}\r\n\r\n\t\tif (jsc.isNode(nodeOrSelector)) {\r\n\t\t\t// DOM node\r\n\t\t\treturn nodeOrSelector;\r\n\t\t}\r\n\r\n\t\tconsole.warn('Invalid node of type %s: %s', typeof nodeOrSelector, nodeOrSelector);\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t// See https://stackoverflow.com/questions/384286/\r\n\tisNode : function (val) {\r\n\t\tif (typeof Node === 'object') {\r\n\t\t\treturn val instanceof Node;\r\n\t\t}\r\n\t\treturn val && typeof val === 'object' && typeof val.nodeType === 'number' && typeof val.nodeName === 'string';\r\n\t},\r\n\r\n\r\n\tnodeName : function (node) {\r\n\t\tif (node && node.nodeName) {\r\n\t\t\treturn node.nodeName.toLowerCase();\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tremoveChildren : function (node) {\r\n\t\twhile (node.firstChild) {\r\n\t\t\tnode.removeChild(node.firstChild);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tisTextInput : function (el) {\r\n\t\treturn el && jsc.nodeName(el) === 'input' && el.type.toLowerCase() === 'text';\r\n\t},\r\n\r\n\r\n\tisButton : function (el) {\r\n\t\tif (!el) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar n = jsc.nodeName(el);\r\n\t\treturn (\r\n\t\t\t(n === 'button') ||\r\n\t\t\t(n === 'input' && ['button', 'submit', 'reset'].indexOf(el.type.toLowerCase()) > -1)\r\n\t\t);\r\n\t},\r\n\r\n\r\n\tisButtonEmpty : function (el) {\r\n\t\tswitch (jsc.nodeName(el)) {\r\n\t\t\tcase 'input': return (!el.value || el.value.trim() === '');\r\n\t\t\tcase 'button': return (el.textContent.trim() === '');\r\n\t\t}\r\n\t\treturn null; // could not determine element's text\r\n\t},\r\n\r\n\r\n\t// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n\tisPassiveEventSupported : (function () {\r\n\t\tvar supported = false;\r\n\r\n\t\ttry {\r\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\tget: function () { supported = true; }\r\n\t\t\t});\r\n\t\t\twindow.addEventListener('testPassive', null, opts);\r\n\t\t\twindow.removeEventListener('testPassive', null, opts);\r\n\t\t} catch (e) {}\r\n\r\n\t\treturn supported;\r\n\t})(),\r\n\r\n\r\n\tisColorAttrSupported : (function () {\r\n\t\tvar elm = window.document.createElement('input');\r\n\t\tif (elm.setAttribute) {\r\n\t\t\telm.setAttribute('type', 'color');\r\n\t\t\tif (elm.type.toLowerCase() == 'color') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t})(),\r\n\r\n\r\n\tdataProp : '_data_jscolor',\r\n\r\n\r\n\t// usage:\r\n\t//   setData(obj, prop, value)\r\n\t//   setData(obj, {prop:value, ...})\r\n\t//\r\n\tsetData : function () {\r\n\t\tvar obj = arguments[0];\r\n\r\n\t\tif (arguments.length === 3) {\r\n\t\t\t// setting a single property\r\n\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\tvar prop = arguments[1];\r\n\t\t\tvar value = arguments[2];\r\n\r\n\t\t\tdata[prop] = value;\r\n\t\t\treturn true;\r\n\r\n\t\t} else if (arguments.length === 2 && typeof arguments[1] === 'object') {\r\n\t\t\t// setting multiple properties\r\n\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\tvar map = arguments[1];\r\n\r\n\t\t\tfor (var prop in map) {\r\n\t\t\t\tif (map.hasOwnProperty(prop)) {\r\n\t\t\t\t\tdata[prop] = map[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthrow new Error('Invalid arguments');\r\n\t},\r\n\r\n\r\n\t// usage:\r\n\t//   removeData(obj, prop, [prop...])\r\n\t//\r\n\tremoveData : function () {\r\n\t\tvar obj = arguments[0];\r\n\t\tif (!obj.hasOwnProperty(jsc.dataProp)) {\r\n\t\t\treturn true; // data object does not exist\r\n\t\t}\r\n\t\tfor (var i = 1; i < arguments.length; i += 1) {\r\n\t\t\tvar prop = arguments[i];\r\n\t\t\tdelete obj[jsc.dataProp][prop];\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\r\n\tgetData : function (obj, prop, setDefault) {\r\n\t\tif (!obj.hasOwnProperty(jsc.dataProp)) {\r\n\t\t\t// data object does not exist\r\n\t\t\tif (setDefault !== undefined) {\r\n\t\t\t\tobj[jsc.dataProp] = {}; // create data object\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined; // no value to return\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar data = obj[jsc.dataProp];\r\n\r\n\t\tif (!data.hasOwnProperty(prop) && setDefault !== undefined) {\r\n\t\t\tdata[prop] = setDefault;\r\n\t\t}\r\n\t\treturn data[prop];\r\n\t},\r\n\r\n\r\n\tgetDataAttr : function (el, name) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tvar attrValue = el.getAttribute(attrName);\r\n\t\treturn attrValue;\r\n\t},\r\n\r\n\r\n\tsetDataAttr : function (el, name, value) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tel.setAttribute(attrName, value);\r\n\t},\r\n\r\n\r\n\t_attachedGroupEvents : {},\r\n\r\n\r\n\tattachGroupEvent : function (groupName, el, evnt, func) {\r\n\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tjsc._attachedGroupEvents[groupName] = [];\r\n\t\t}\r\n\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n\t\tel.addEventListener(evnt, func, false);\r\n\t},\r\n\r\n\r\n\tdetachGroupEvents : function (groupName) {\r\n\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\r\n\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\r\n\t\t\t\tevt[0].removeEventListener(evt[1], evt[2], false);\r\n\t\t\t}\r\n\t\t\tdelete jsc._attachedGroupEvents[groupName];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tpreventDefault : function (e) {\r\n\t\tif (e.preventDefault) { e.preventDefault(); }\r\n\t\te.returnValue = false;\r\n\t},\r\n\r\n\r\n\ttriggerEvent : function (el, eventName, bubbles, cancelable) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ev = null;\r\n\r\n\t\tif (typeof Event === 'function') {\r\n\t\t\tev = new Event(eventName, {\r\n\t\t\t\tbubbles: bubbles,\r\n\t\t\t\tcancelable: cancelable\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// IE\r\n\t\t\tev = window.document.createEvent('Event');\r\n\t\t\tev.initEvent(eventName, bubbles, cancelable);\r\n\t\t}\r\n\r\n\t\tif (!ev) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// so that we know that the event was triggered internally\r\n\t\tjsc.setData(ev, 'internal', true);\r\n\r\n\t\tel.dispatchEvent(ev);\r\n\t\treturn true;\r\n\t},\r\n\r\n\r\n\ttriggerInputEvent : function (el, eventName, bubbles, cancelable) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (jsc.isTextInput(el)) {\r\n\t\t\tjsc.triggerEvent(el, eventName, bubbles, cancelable);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\teventKey : function (ev) {\r\n\t\tvar keys = {\r\n\t\t\t9: 'Tab',\r\n\t\t\t13: 'Enter',\r\n\t\t\t27: 'Escape',\r\n\t\t};\r\n\t\tif (typeof ev.code === 'string') {\r\n\t\t\treturn ev.code;\r\n\t\t} else if (ev.keyCode !== undefined && keys.hasOwnProperty(ev.keyCode)) {\r\n\t\t\treturn keys[ev.keyCode];\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tstrList : function (str) {\r\n\t\tif (!str) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn str.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can only contain a single class name\r\n\thasClass : function (elm, className) {\r\n\t\tif (!className) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\treturn elm.classList.contains(className);\r\n\t\t}\r\n\t\t// polyfill\r\n\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\taddClass : function (elm, className) {\r\n\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\t\telm.classList.add(classNames[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// polyfill\r\n\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\tif (!jsc.hasClass(elm, classNames[i])) {\r\n\t\t\t\telm.className += (elm.className ? ' ' : '') + classNames[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tremoveClass : function (elm, className) {\r\n\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\t\telm.classList.remove(classNames[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// polyfill\r\n\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\tvar repl = new RegExp(\r\n\t\t\t\t'^\\\\s*' + classNames[i] + '\\\\s*|' +\r\n\t\t\t\t'\\\\s*' + classNames[i] + '\\\\s*$|' +\r\n\t\t\t\t'\\\\s+' + classNames[i] + '(\\\\s+)',\r\n\t\t\t\t'g'\r\n\t\t\t);\r\n\t\t\telm.className = elm.className.replace(repl, '$1');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tgetCompStyle : function (elm) {\r\n\t\tvar compStyle = window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\r\n\r\n\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t// that's why we need to check if the returned value is non-empty\r\n\t\tif (!compStyle) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\treturn compStyle;\r\n\t},\r\n\r\n\r\n\t// Note:\r\n\t//   Setting a property to NULL reverts it to the state before it was first set\r\n\t//   with the 'reversible' flag enabled\r\n\t//\r\n\tsetStyle : function (elm, styles, important, reversible) {\r\n\t\t// using '' for standard priority (IE10 apparently doesn't like value undefined)\r\n\t\tvar priority = important ? 'important' : '';\r\n\t\tvar origStyle = null;\r\n\r\n\t\tfor (var prop in styles) {\r\n\t\t\tif (styles.hasOwnProperty(prop)) {\r\n\t\t\t\tvar setVal = null;\r\n\r\n\t\t\t\tif (styles[prop] === null) {\r\n\t\t\t\t\t// reverting a property value\r\n\r\n\t\t\t\t\tif (!origStyle) {\r\n\t\t\t\t\t\t// get the original style object, but dont't try to create it if it doesn't exist\r\n\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (origStyle && origStyle.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\t// we have property's original value -> use it\r\n\t\t\t\t\t\tsetVal = origStyle[prop];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// setting a property value\r\n\r\n\t\t\t\t\tif (reversible) {\r\n\t\t\t\t\t\tif (!origStyle) {\r\n\t\t\t\t\t\t\t// get the original style object and if it doesn't exist, create it\r\n\t\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle', {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!origStyle.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\t\t// original property value not yet stored -> store it\r\n\t\t\t\t\t\t\torigStyle[prop] = elm.style[prop];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetVal = styles[prop];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (setVal !== null) {\r\n\t\t\t\t\telm.style.setProperty(prop, setVal, priority);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tappendCss : function (css) {\r\n\t\tvar head = document.querySelector('head');\r\n\t\tvar style = document.createElement('style');\r\n\t\tstyle.innerText = css;\r\n\t\thead.appendChild(style);\r\n\t},\r\n\r\n\r\n\tappendDefaultCss : function (css) {\r\n\t\tjsc.appendCss(\r\n\t\t\t[\r\n\t\t\t\t'.jscolor-wrap, .jscolor-wrap div, .jscolor-wrap canvas { ' +\r\n\t\t\t\t'position:static; display:block; visibility:visible; overflow:visible; margin:0; padding:0; ' +\r\n\t\t\t\t'border:none; border-radius:0; outline:none; z-index:auto; float:none; ' +\r\n\t\t\t\t'width:auto; height:auto; left:auto; right:auto; top:auto; bottom:auto; min-width:0; min-height:0; max-width:none; max-height:none; ' +\r\n\t\t\t\t'background:none; clip:auto; opacity:1; transform:none; box-shadow:none; box-sizing:content-box; ' +\r\n\t\t\t\t'}',\r\n\t\t\t\t'.jscolor-wrap { clear:both; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-picker { position:relative; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-shadow { position:absolute; left:0; top:0; width:100%; height:100%; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-border { position:relative; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-palette { position:absolute; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-palette-sw { position:absolute; display:block; cursor:pointer; }',\r\n\t\t\t\t'.jscolor-wrap .jscolor-btn { position:absolute; overflow:hidden; white-space:nowrap; font:13px sans-serif; text-align:center; cursor:pointer; }',\r\n\t\t\t].join('\\n')\r\n\t\t);\r\n\t},\r\n\r\n\r\n\thexColor : function (r, g, b) {\r\n\t\treturn '#' + (\r\n\t\t\t('0' + Math.round(r).toString(16)).slice(-2) +\r\n\t\t\t('0' + Math.round(g).toString(16)).slice(-2) +\r\n\t\t\t('0' + Math.round(b).toString(16)).slice(-2)\r\n\t\t).toUpperCase();\r\n\t},\r\n\r\n\r\n\thexaColor : function (r, g, b, a) {\r\n\t\treturn '#' + (\r\n\t\t\t('0' + Math.round(r).toString(16)).slice(-2) +\r\n\t\t\t('0' + Math.round(g).toString(16)).slice(-2) +\r\n\t\t\t('0' + Math.round(b).toString(16)).slice(-2) +\r\n\t\t\t('0' + Math.round(a * 255).toString(16)).slice(-2)\r\n\t\t).toUpperCase();\r\n\t},\r\n\r\n\r\n\trgbColor : function (r, g, b) {\r\n\t\treturn 'rgb(' +\r\n\t\t\tMath.round(r) + ',' +\r\n\t\t\tMath.round(g) + ',' +\r\n\t\t\tMath.round(b) +\r\n\t\t')';\r\n\t},\r\n\r\n\r\n\trgbaColor : function (r, g, b, a) {\r\n\t\treturn 'rgba(' +\r\n\t\t\tMath.round(r) + ',' +\r\n\t\t\tMath.round(g) + ',' +\r\n\t\t\tMath.round(b) + ',' +\r\n\t\t\t(Math.round((a===undefined || a===null ? 1 : a) * 100) / 100) +\r\n\t\t')';\r\n\t},\r\n\r\n\r\n\tlinearGradient : (function () {\r\n\r\n\t\tfunction getFuncName () {\r\n\t\t\tvar stdName = 'linear-gradient';\r\n\t\t\tvar prefixes = ['', '-webkit-', '-moz-', '-o-', '-ms-'];\r\n\t\t\tvar helper = window.document.createElement('div');\r\n\r\n\t\t\tfor (var i = 0; i < prefixes.length; i += 1) {\r\n\t\t\t\tvar tryFunc = prefixes[i] + stdName;\r\n\t\t\t\tvar tryVal = tryFunc + '(to right, rgba(0,0,0,0), rgba(0,0,0,0))';\r\n\r\n\t\t\t\thelper.style.background = tryVal;\r\n\t\t\t\tif (helper.style.background) { // CSS background successfully set -> function name is supported\r\n\t\t\t\t\treturn tryFunc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn stdName; // fallback to standard 'linear-gradient' without vendor prefix\r\n\t\t}\r\n\r\n\t\tvar funcName = getFuncName();\r\n\r\n\t\treturn function () {\r\n\t\t\treturn funcName + '(' + Array.prototype.join.call(arguments, ', ') + ')';\r\n\t\t};\r\n\r\n\t})(),\r\n\r\n\r\n\tsetBorderRadius : function (elm, value) {\r\n\t\tjsc.setStyle(elm, {'border-radius' : value || '0'});\r\n\t},\r\n\r\n\r\n\tsetBoxShadow : function (elm, value) {\r\n\t\tjsc.setStyle(elm, {'box-shadow': value || 'none'});\r\n\t},\r\n\r\n\r\n\tgetElementPos : function (e, relativeToViewport) {\r\n\t\tvar x=0, y=0;\r\n\t\tvar rect = e.getBoundingClientRect();\r\n\t\tx = rect.left;\r\n\t\ty = rect.top;\r\n\t\tif (!relativeToViewport) {\r\n\t\t\tvar viewPos = jsc.getViewPos();\r\n\t\t\tx += viewPos[0];\r\n\t\t\ty += viewPos[1];\r\n\t\t}\r\n\t\treturn [x, y];\r\n\t},\r\n\r\n\r\n\tgetElementSize : function (e) {\r\n\t\treturn [e.offsetWidth, e.offsetHeight];\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to viewport\r\n\tgetAbsPointerPos : function (e) {\r\n\t\tvar x = 0, y = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t}\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to target element\r\n\tgetRelPointerPos : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar targetRect = target.getBoundingClientRect();\r\n\r\n\t\tvar x = 0, y = 0;\r\n\r\n\t\tvar clientX = 0, clientY = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tclientX = e.clientX;\r\n\t\t\tclientY = e.clientY;\r\n\t\t}\r\n\r\n\t\tx = clientX - targetRect.left;\r\n\t\ty = clientY - targetRect.top;\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\tgetViewPos : function () {\r\n\t\tvar doc = window.document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetViewSize : function () {\r\n\t\tvar doc = window.document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.innerWidth || doc.clientWidth),\r\n\t\t\t(window.innerHeight || doc.clientHeight),\r\n\t\t];\r\n\t},\r\n\r\n\r\n\t// r: 0-255\r\n\t// g: 0-255\r\n\t// b: 0-255\r\n\t//\r\n\t// returns: [ 0-360, 0-100, 0-100 ]\r\n\t//\r\n\tRGB_HSV : function (r, g, b) {\r\n\t\tr /= 255;\r\n\t\tg /= 255;\r\n\t\tb /= 255;\r\n\t\tvar n = Math.min(Math.min(r,g),b);\r\n\t\tvar v = Math.max(Math.max(r,g),b);\r\n\t\tvar m = v - n;\r\n\t\tif (m === 0) { return [ null, 0, 100 * v ]; }\r\n\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\r\n\t\treturn [\r\n\t\t\t60 * (h===6?0:h),\r\n\t\t\t100 * (m/v),\r\n\t\t\t100 * v\r\n\t\t];\r\n\t},\r\n\r\n\r\n\t// h: 0-360\r\n\t// s: 0-100\r\n\t// v: 0-100\r\n\t//\r\n\t// returns: [ 0-255, 0-255, 0-255 ]\r\n\t//\r\n\tHSV_RGB : function (h, s, v) {\r\n\t\tvar u = 255 * (v / 100);\r\n\r\n\t\tif (h === null) {\r\n\t\t\treturn [ u, u, u ];\r\n\t\t}\r\n\r\n\t\th /= 60;\r\n\t\ts /= 100;\r\n\r\n\t\tvar i = Math.floor(h);\r\n\t\tvar f = i%2 ? h-i : 1-(h-i);\r\n\t\tvar m = u * (1 - s);\r\n\t\tvar n = u * (1 - s * f);\r\n\t\tswitch (i) {\r\n\t\t\tcase 6:\r\n\t\t\tcase 0: return [u,n,m];\r\n\t\t\tcase 1: return [n,u,m];\r\n\t\t\tcase 2: return [m,u,n];\r\n\t\t\tcase 3: return [m,n,u];\r\n\t\t\tcase 4: return [n,m,u];\r\n\t\t\tcase 5: return [u,m,n];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tparseColorString : function (str) {\r\n\t\tvar ret = {\r\n\t\t\trgba: null,\r\n\t\t\tformat: null // 'hex' | 'hexa' | 'rgb' | 'rgba'\r\n\t\t};\r\n\r\n\t\tvar m;\r\n\r\n\t\tif (m = str.match(/^\\W*([0-9A-F]{3,8})\\W*$/i)) {\r\n\t\t\t// HEX notation\r\n\r\n\t\t\tif (m[1].length === 8) {\r\n\t\t\t\t// 8-char notation (= with alpha)\r\n\t\t\t\tret.format = 'hexa';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].slice(0,2),16),\r\n\t\t\t\t\tparseInt(m[1].slice(2,4),16),\r\n\t\t\t\t\tparseInt(m[1].slice(4,6),16),\r\n\t\t\t\t\tparseInt(m[1].slice(6,8),16) / 255\r\n\t\t\t\t];\r\n\r\n\t\t\t} else if (m[1].length === 6) {\r\n\t\t\t\t// 6-char notation\r\n\t\t\t\tret.format = 'hex';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].slice(0,2),16),\r\n\t\t\t\t\tparseInt(m[1].slice(2,4),16),\r\n\t\t\t\t\tparseInt(m[1].slice(4,6),16),\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t} else if (m[1].length === 3) {\r\n\t\t\t\t// 3-char notation\r\n\t\t\t\tret.format = 'hex';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0),16),\r\n\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1),16),\r\n\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2),16),\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tif (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\r\n\t\t\t// rgb(...) or rgba(...) notation\r\n\r\n\t\t\tvar par = m[1].split(',');\r\n\t\t\tvar re = /^\\s*(\\d+|\\d*\\.\\d+|\\d+\\.\\d*)\\s*$/;\r\n\t\t\tvar mR, mG, mB, mA;\r\n\t\t\tif (\r\n\t\t\t\tpar.length >= 3 &&\r\n\t\t\t\t(mR = par[0].match(re)) &&\r\n\t\t\t\t(mG = par[1].match(re)) &&\r\n\t\t\t\t(mB = par[2].match(re))\r\n\t\t\t) {\r\n\t\t\t\tret.format = 'rgb';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseFloat(mR[1]) || 0,\r\n\t\t\t\t\tparseFloat(mG[1]) || 0,\r\n\t\t\t\t\tparseFloat(mB[1]) || 0,\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tpar.length >= 4 &&\r\n\t\t\t\t\t(mA = par[3].match(re))\r\n\t\t\t\t) {\r\n\t\t\t\t\tret.format = 'rgba';\r\n\t\t\t\t\tret.rgba[3] = parseFloat(mA[1]) || 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tparsePaletteValue : function (mixed) {\r\n\t\tvar vals = [];\r\n\r\n\t\tif (typeof mixed === 'string') { // input is a string of space separated color values\r\n\t\t\t// rgb() and rgba() may contain spaces too, so let's find all color values by regex\r\n\t\t\tmixed.replace(/#[0-9A-F]{3}\\b|#[0-9A-F]{6}([0-9A-F]{2})?\\b|rgba?\\(([^)]*)\\)/ig, function (val) {\r\n\t\t\t\tvals.push(val);\r\n\t\t\t});\r\n\t\t} else if (Array.isArray(mixed)) { // input is an array of color values\r\n\t\t\tvals = mixed;\r\n\t\t}\r\n\r\n\t\t// convert all values into uniform color format\r\n\r\n\t\tvar colors = [];\r\n\r\n\t\tfor (var i = 0; i < vals.length; i++) {\r\n\t\t\tvar color = jsc.parseColorString(vals[i]);\r\n\t\t\tif (color) {\r\n\t\t\t\tcolors.push(color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn colors;\r\n\t},\r\n\r\n\r\n\tcontainsTranparentColor : function (colors) {\r\n\t\tfor (var i = 0; i < colors.length; i++) {\r\n\t\t\tvar a = colors[i].rgba[3];\r\n\t\t\tif (a !== null && a < 1.0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tisAlphaFormat : function (format) {\r\n\t\tswitch (format.toLowerCase()) {\r\n\t\tcase 'hexa':\r\n\t\tcase 'rgba':\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\t// Canvas scaling for retina displays\r\n\t//\r\n\t// adapted from https://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n\t//\r\n\tscaleCanvasForHighDPR : function (canvas) {\r\n\t\tvar dpr = window.devicePixelRatio || 1;\r\n\t\tcanvas.width *= dpr;\r\n\t\tcanvas.height *= dpr;\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\t\tctx.scale(dpr, dpr);\r\n\t},\r\n\r\n\r\n\tgenColorPreviewCanvas : function (color, separatorPos, specWidth, scaleForHighDPR) {\r\n\r\n\t\tvar sepW = Math.round(jsc.pub.previewSeparator.length);\r\n\t\tvar sqSize = jsc.pub.chessboardSize;\r\n\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\tvar cWidth = specWidth ? specWidth : sqSize * 2;\r\n\t\tvar cHeight = sqSize * 2;\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tcanvas.width = cWidth;\r\n\t\tcanvas.height = cHeight;\r\n\t\tif (scaleForHighDPR) {\r\n\t\t\tjsc.scaleCanvasForHighDPR(canvas);\r\n\t\t}\r\n\r\n\t\t// transparency chessboard - background\r\n\t\tctx.fillStyle = sqColor1;\r\n\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\r\n\t\t// transparency chessboard - squares\r\n\t\tctx.fillStyle = sqColor2;\r\n\t\tfor (var x = 0; x < cWidth; x += sqSize * 2) {\r\n\t\t\tctx.fillRect(x, 0, sqSize, sqSize);\r\n\t\t\tctx.fillRect(x + sqSize, sqSize, sqSize, sqSize);\r\n\t\t}\r\n\r\n\t\tif (color) {\r\n\t\t\t// actual color in foreground\r\n\t\t\tctx.fillStyle = color;\r\n\t\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\t\t}\r\n\r\n\t\tvar start = null;\r\n\t\tswitch (separatorPos) {\r\n\t\t\tcase 'left':\r\n\t\t\t\tstart = 0;\r\n\t\t\t\tctx.clearRect(0, 0, sepW/2, cHeight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tstart = cWidth - sepW;\r\n\t\t\t\tctx.clearRect(cWidth - (sepW/2), 0, sepW/2, cHeight);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (start !== null) {\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tfor (var i = 0; i < jsc.pub.previewSeparator.length; i += 1) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = jsc.pub.previewSeparator[i];\r\n\t\t\t\tctx.moveTo(0.5 + start + i, 0);\r\n\t\t\t\tctx.lineTo(0.5 + start + i, cHeight);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcanvas: canvas,\r\n\t\t\twidth: cWidth,\r\n\t\t\theight: cHeight,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\t// if position or width is not set => fill the entire element (0%-100%)\r\n\tgenColorPreviewGradient : function (color, position, width) {\r\n\t\tvar params = [];\r\n\r\n\t\tif (position && width) {\r\n\t\t\tparams = [\r\n\t\t\t\t'to ' + {'left':'right', 'right':'left'}[position],\r\n\t\t\t\tcolor + ' 0%',\r\n\t\t\t\tcolor + ' ' + width + 'px',\r\n\t\t\t\t'rgba(0,0,0,0) ' + (width + 1) + 'px',\r\n\t\t\t\t'rgba(0,0,0,0) 100%',\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tparams = [\r\n\t\t\t\t'to right',\r\n\t\t\t\tcolor + ' 0%',\r\n\t\t\t\tcolor + ' 100%',\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn jsc.linearGradient.apply(this, params);\r\n\t},\r\n\r\n\r\n\tredrawPosition : function () {\r\n\r\n\t\tif (!jsc.picker || !jsc.picker.owner) {\r\n\t\t\treturn; // picker is not shown\r\n\t\t}\r\n\r\n\t\tvar thisObj = jsc.picker.owner;\r\n\r\n\t\tif (thisObj.container !== window.document.body) {\r\n\r\n\t\t\tjsc._drawPosition(thisObj, 0, 0, 'relative', false);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar tp, vp;\r\n\r\n\t\t\tif (thisObj.fixed) {\r\n\t\t\t\t// Fixed elements are positioned relative to viewport,\r\n\t\t\t\t// therefore we can ignore the scroll offset\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n\t\t\t\tvp = [0, 0]; // view pos\r\n\t\t\t} else {\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n\t\t\t\tvp = jsc.getViewPos(); // view pos\r\n\t\t\t}\r\n\r\n\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n\t\t\tvar vs = jsc.getViewSize(); // view size\r\n\t\t\tvar pd = jsc.getPickerDims(thisObj);\r\n\t\t\tvar ps = [pd.borderW, pd.borderH]; // picker outer size\r\n\t\t\tvar a, b, c;\r\n\t\t\tswitch (thisObj.position.toLowerCase()) {\r\n\t\t\t\tcase 'left': a=1; b=0; c=-1; break;\r\n\t\t\t\tcase 'right':a=1; b=0; c=1; break;\r\n\t\t\t\tcase 'top':  a=0; b=1; c=-1; break;\r\n\t\t\t\tdefault:     a=0; b=1; c=1; break;\r\n\t\t\t}\r\n\t\t\tvar l = (ts[b]+ps[b])/2;\r\n\r\n\t\t\t// compute picker position\r\n\t\t\tif (!thisObj.smartPosition) {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\ttp[a],\r\n\t\t\t\t\ttp[b]+ts[b]-l+l*c\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\r\n\t\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\r\n\t\t\t\t\t\ttp[a],\r\n\t\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\r\n\t\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\r\n\t\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tvar x = pp[a];\r\n\t\t\tvar y = pp[b];\r\n\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\r\n\t\t\tvar contractShadow =\r\n\t\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n\t\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\r\n\r\n\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\r\n\t_drawPosition : function (thisObj, x, y, positionValue, contractShadow) {\r\n\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n\t\tjsc.picker.wrap.style.position = positionValue;\r\n\r\n\t\tif ( // To avoid unnecessary repositioning during scroll\r\n\t\t\tMath.round(parseFloat(jsc.picker.wrap.style.left)) !== Math.round(x) ||\r\n\t\t\tMath.round(parseFloat(jsc.picker.wrap.style.top)) !== Math.round(y)\r\n\t\t) {\r\n\t\t\tjsc.picker.wrap.style.left = x + 'px';\r\n\t\t\tjsc.picker.wrap.style.top = y + 'px';\r\n\t\t}\r\n\r\n\t\tjsc.setBoxShadow(\r\n\t\t\tjsc.picker.boxS,\r\n\t\t\tthisObj.shadow ?\r\n\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\r\n\t\t\t\tnull);\r\n\t},\r\n\r\n\r\n\tgetPickerDims : function (thisObj) {\r\n\t\tvar w = 2 * thisObj.controlBorderWidth + thisObj.width;\r\n\t\tvar h = 2 * thisObj.controlBorderWidth + thisObj.height;\r\n\r\n\t\tvar sliderSpace = 2 * thisObj.controlBorderWidth + 2 * jsc.getControlPadding(thisObj) + thisObj.sliderSize;\r\n\r\n\t\tif (jsc.getSliderChannel(thisObj)) {\r\n\t\t\tw += sliderSpace;\r\n\t\t}\r\n\t\tif (thisObj.hasAlphaChannel()) {\r\n\t\t\tw += sliderSpace;\r\n\t\t}\r\n\r\n\t\tvar pal = jsc.getPaletteDims(thisObj, w);\r\n\r\n\t\tif (pal.height) {\r\n\t\t\th += pal.height + thisObj.padding;\r\n\t\t}\r\n\t\tif (thisObj.closeButton) {\r\n\t\t\th += 2 * thisObj.controlBorderWidth + thisObj.padding + thisObj.buttonHeight;\r\n\t\t}\r\n\r\n\t\tvar pW = w + (2 * thisObj.padding);\r\n\t\tvar pH = h + (2 * thisObj.padding);\r\n\r\n\t\treturn {\r\n\t\t\tcontentW: w,\r\n\t\t\tcontentH: h,\r\n\t\t\tpaddedW: pW,\r\n\t\t\tpaddedH: pH,\r\n\t\t\tborderW: pW + (2 * thisObj.borderWidth),\r\n\t\t\tborderH: pH + (2 * thisObj.borderWidth),\r\n\t\t\tpalette: pal,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tgetPaletteDims : function (thisObj, width) {\r\n\t\tvar cols = 0, rows = 0, cellW = 0, cellH = 0, height = 0;\r\n\t\tvar sampleCount = thisObj._palette ? thisObj._palette.length : 0;\r\n\r\n\t\tif (sampleCount) {\r\n\t\t\tcols = thisObj.paletteCols;\r\n\t\t\trows = cols > 0 ? Math.ceil(sampleCount / cols) : 0;\r\n\r\n\t\t\t// color sample's dimensions (includes border)\r\n\t\t\tcellW = Math.max(1, Math.floor((width - ((cols - 1) * thisObj.paletteSpacing)) / cols));\r\n\t\t\tcellH = thisObj.paletteHeight ? Math.min(thisObj.paletteHeight, cellW) : cellW;\r\n\t\t}\r\n\r\n\t\tif (rows) {\r\n\t\t\theight =\r\n\t\t\t\trows * cellH +\r\n\t\t\t\t(rows - 1) * thisObj.paletteSpacing;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcols: cols,\r\n\t\t\trows: rows,\r\n\t\t\tcellW: cellW,\r\n\t\t\tcellH: cellH,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tgetControlPadding : function (thisObj) {\r\n\t\treturn Math.max(\r\n\t\t\tthisObj.padding / 2,\r\n\t\t\t(2 * thisObj.pointerBorderWidth + thisObj.pointerThickness) - thisObj.controlBorderWidth\r\n\t\t);\r\n\t},\r\n\r\n\r\n\tgetPadYChannel : function (thisObj) {\r\n\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\r\n\t\t\tcase 'v': return 'v'; break;\r\n\t\t}\r\n\t\treturn 's';\r\n\t},\r\n\r\n\r\n\tgetSliderChannel : function (thisObj) {\r\n\t\tif (thisObj.mode.length > 2) {\r\n\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\r\n\t\t\t\tcase 's': return 's'; break;\r\n\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t// calls function specified in picker's property\r\n\ttriggerCallback : function (thisObj, prop) {\r\n\t\tif (!thisObj[prop]) {\r\n\t\t\treturn; // callback func not specified\r\n\t\t}\r\n\t\tvar callback = null;\r\n\r\n\t\tif (typeof thisObj[prop] === 'string') {\r\n\t\t\t// string with code\r\n\t\t\ttry {\r\n\t\t\t\tcallback = new Function (thisObj[prop]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// function\r\n\t\t\tcallback = thisObj[prop];\r\n\t\t}\r\n\r\n\t\tif (callback) {\r\n\t\t\tcallback.call(thisObj);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// Triggers a color change related event(s) on all picker instances.\r\n\t// It is possible to specify multiple events separated with a space.\r\n\ttriggerGlobal : function (eventNames) {\r\n\t\tvar inst = jsc.getInstances();\r\n\t\tfor (var i = 0; i < inst.length; i += 1) {\r\n\t\t\tinst[i].trigger(eventNames);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_pointerMoveEvent : {\r\n\t\tmouse: 'mousemove',\r\n\t\ttouch: 'touchmove'\r\n\t},\r\n\t_pointerEndEvent : {\r\n\t\tmouse: 'mouseup',\r\n\t\ttouch: 'touchend'\r\n\t},\r\n\r\n\r\n\t_pointerOrigin : null,\r\n\r\n\r\n\tonDocumentKeyUp : function (e) {\r\n\t\tif (['Tab', 'Escape'].indexOf(jsc.eventKey(e)) !== -1) {\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonWindowResize : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonWindowScroll : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonParentScroll : function (e) {\r\n\t\t// hide the picker when one of the parent elements is scrolled\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tjsc.picker.owner.tryHide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentMouseDown : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target.jscolor && target.jscolor instanceof jsc.pub) { // clicked targetElement -> show picker\r\n\t\t\tif (target.jscolor.showOnClick && !target.disabled) {\r\n\t\t\t\ttarget.jscolor.show();\r\n\t\t\t}\r\n\t\t} else if (jsc.getData(target, 'gui')) { // clicked jscolor's GUI element\r\n\t\t\tvar control = jsc.getData(target, 'control');\r\n\t\t\tif (control) {\r\n\t\t\t\t// jscolor's control\r\n\t\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'mouse');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// mouse is outside the picker's controls -> hide the color picker!\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonPickerTouchStart : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (jsc.getData(target, 'control')) {\r\n\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'touch');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonControlPointerStart : function (e, target, controlName, pointerType) {\r\n\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\r\n\t\tjsc.preventDefault(e);\r\n\r\n\t\tvar registerDragEvents = function (doc, offset) {\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\r\n\t\t};\r\n\r\n\t\tregisterDragEvents(window.document, [0, 0]);\r\n\r\n\t\tif (window.parent && window.frameElement) {\r\n\t\t\tvar rect = window.frameElement.getBoundingClientRect();\r\n\t\t\tvar ofs = [-rect.left, -rect.top];\r\n\t\t\tregisterDragEvents(window.parent.window.document, ofs);\r\n\t\t}\r\n\r\n\t\tvar abs = jsc.getAbsPointerPos(e);\r\n\t\tvar rel = jsc.getRelPointerPos(e);\r\n\t\tjsc._pointerOrigin = {\r\n\t\t\tx: abs.x - rel.x,\r\n\t\t\ty: abs.y - rel.y\r\n\t\t};\r\n\r\n\t\tswitch (controlName) {\r\n\t\tcase 'pad':\r\n\t\t\t// if the value slider is at the bottom, move it up\r\n\t\t\tif (jsc.getSliderChannel(thisObj) === 'v' && thisObj.channels.v === 0) {\r\n\t\t\t\tthisObj.fromHSVA(null, null, 100, null);\r\n\t\t\t}\r\n\t\t\tjsc.setPad(thisObj, e, 0, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'sld':\r\n\t\t\tjsc.setSld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'asld':\r\n\t\t\tjsc.setASld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tthisObj.trigger('input');\r\n\t},\r\n\r\n\r\n\tonDocumentPointerMove : function (e, target, controlName, pointerType, offset) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\tswitch (controlName) {\r\n\t\t\tcase 'pad':\r\n\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'sld':\r\n\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'asld':\r\n\t\t\t\tjsc.setASld(thisObj, e, offset[1]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthisObj.trigger('input');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentPointerEnd : function (e, target, controlName, pointerType) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\tjsc.detachGroupEvents('drag');\r\n\r\n\t\t\t// Always trigger changes AFTER detaching outstanding mouse handlers,\r\n\t\t\t// in case some color change that occured in user-defined onChange/onInput handler\r\n\t\t\t// intruded into current mouse events\r\n\t\t\tthisObj.trigger('input');\r\n\t\t\tthisObj.trigger('change');\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tonPaletteSampleClick : function (e) {\r\n\t\tvar target = e.currentTarget;\r\n\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\tvar color = jsc.getData(target, 'color');\r\n\r\n\t\t// when format is flexible, use the original format of this color sample\r\n\t\tif (thisObj.format.toLowerCase() === 'any') {\r\n\t\t\tthisObj._setFormat(color.format); // adapt format\r\n\t\t\tif (!jsc.isAlphaFormat(thisObj.getFormat())) {\r\n\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if this color doesn't specify alpha, use alpha of 1.0 (if applicable)\r\n\t\tif (color.rgba[3] === null) {\r\n\t\t\tif (thisObj.paletteSetsAlpha === true || (thisObj.paletteSetsAlpha === 'auto' && thisObj._paletteHasTransparency)) {\r\n\t\t\t\tcolor.rgba[3] = 1.0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisObj.fromRGBA.apply(thisObj, color.rgba);\r\n\r\n\t\tthisObj.trigger('input');\r\n\t\tthisObj.trigger('change');\r\n\r\n\t\tif (thisObj.hideOnPaletteClick) {\r\n\t\t\tthisObj.hide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetPad : function (thisObj, e, ofsX, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\r\n\t\tvar xVal = x * (360 / (thisObj.width - 1));\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getPadYChannel(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSVA(xVal, yVal, null, null); break;\r\n\t\tcase 'v': thisObj.fromHSVA(xVal, null, yVal, null); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetSld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getSliderChannel(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSVA(null, yVal, null, null); break;\r\n\t\tcase 'v': thisObj.fromHSVA(null, null, yVal, null); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetASld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar yVal = 1.0 - (y * (1.0 / (thisObj.height - 1)));\r\n\r\n\t\tif (yVal < 1.0) {\r\n\t\t\t// if format is flexible and the current format doesn't support alpha, switch to a suitable one\r\n\t\t\tvar fmt = thisObj.getFormat();\r\n\t\t\tif (thisObj.format.toLowerCase() === 'any' && !jsc.isAlphaFormat(fmt)) {\r\n\t\t\t\tthisObj._setFormat(fmt === 'hex' ? 'hexa' : 'rgba');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisObj.fromHSVA(null, null, null, yVal);\r\n\t},\r\n\r\n\r\n\tcreatePadCanvas : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t\thGrad.addColorStop(0 / 6, '#F00');\r\n\t\t\thGrad.addColorStop(1 / 6, '#FF0');\r\n\t\t\thGrad.addColorStop(2 / 6, '#0F0');\r\n\t\t\thGrad.addColorStop(3 / 6, '#0FF');\r\n\t\t\thGrad.addColorStop(4 / 6, '#00F');\r\n\t\t\thGrad.addColorStop(5 / 6, '#F0F');\r\n\t\t\thGrad.addColorStop(6 / 6, '#F00');\r\n\r\n\t\t\tctx.fillStyle = hGrad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\r\n\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tctx.fillStyle = vGrad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tcreateSliderGradient : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tgrad.addColorStop(0, color1);\r\n\t\t\tgrad.addColorStop(1, color2);\r\n\r\n\t\t\tctx.fillStyle = grad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tcreateASliderGradient : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, color) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar sqSize = canvas.width / 2;\r\n\t\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\t\t// dark gray background\r\n\t\t\tctx.fillStyle = sqColor1;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tif (sqSize > 0) { // to avoid infinite loop\r\n\t\t\t\tfor (var y = 0; y < canvas.height; y += sqSize * 2) {\r\n\t\t\t\t\t// light gray squares\r\n\t\t\t\t\tctx.fillStyle = sqColor2;\r\n\t\t\t\t\tctx.fillRect(0, y, sqSize, sqSize);\r\n\t\t\t\t\tctx.fillRect(sqSize, y + sqSize, sqSize, sqSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tgrad.addColorStop(0, color);\r\n\t\t\tgrad.addColorStop(1, 'rgba(0,0,0,0)');\r\n\r\n\t\t\tctx.fillStyle = grad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tBoxShadow : (function () {\r\n\t\tvar BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\r\n\t\t\tthis.hShadow = hShadow;\r\n\t\t\tthis.vShadow = vShadow;\r\n\t\t\tthis.blur = blur;\r\n\t\t\tthis.spread = spread;\r\n\t\t\tthis.color = color;\r\n\t\t\tthis.inset = !!inset;\r\n\t\t};\r\n\r\n\t\tBoxShadow.prototype.toString = function () {\r\n\t\t\tvar vals = [\r\n\t\t\t\tMath.round(this.hShadow) + 'px',\r\n\t\t\t\tMath.round(this.vShadow) + 'px',\r\n\t\t\t\tMath.round(this.blur) + 'px',\r\n\t\t\t\tMath.round(this.spread) + 'px',\r\n\t\t\t\tthis.color\r\n\t\t\t];\r\n\t\t\tif (this.inset) {\r\n\t\t\t\tvals.push('inset');\r\n\t\t\t}\r\n\t\t\treturn vals.join(' ');\r\n\t\t};\r\n\r\n\t\treturn BoxShadow;\r\n\t})(),\r\n\r\n\r\n\tflags : {\r\n\t\tleaveValue : 1 << 0,\r\n\t\tleaveAlpha : 1 << 1,\r\n\t\tleavePreview : 1 << 2,\r\n\t},\r\n\r\n\r\n\tenumOpts : {\r\n\t\tformat: ['auto', 'any', 'hex', 'hexa', 'rgb', 'rgba'],\r\n\t\tpreviewPosition: ['left', 'right'],\r\n\t\tmode: ['hsv', 'hvs', 'hs', 'hv'],\r\n\t\tposition: ['left', 'right', 'top', 'bottom'],\r\n\t\talphaChannel: ['auto', true, false],\r\n\t\tpaletteSetsAlpha: ['auto', true, false],\r\n\t},\r\n\r\n\r\n\tdeprecatedOpts : {\r\n\t\t// <old_option>: <new_option>  (<new_option> can be null)\r\n\t\t'styleElement': 'previewElement',\r\n\t\t'onFineChange': 'onInput',\r\n\t\t'overwriteImportant': 'forceStyle',\r\n\t\t'closable': 'closeButton',\r\n\t\t'insetWidth': 'controlBorderWidth',\r\n\t\t'insetColor': 'controlBorderColor',\r\n\t\t'refine': null,\r\n\t},\r\n\r\n\r\n\tdocsRef : ' ' + 'See https://jscolor.com/docs/',\r\n\r\n\r\n\t//\r\n\t// Usage:\r\n\t// var myPicker = new JSColor(<targetElement> [, <options>])\r\n\t//\r\n\t// (constructor is accessible via both 'jscolor' and 'JSColor' name)\r\n\t//\r\n\r\n\tpub : function (targetElement, opts) {\r\n\r\n\t\tvar THIS = this;\r\n\r\n\t\tif (!opts) {\r\n\t\t\topts = {};\r\n\t\t}\r\n\r\n\t\tthis.channels = {\r\n\t\t\tr: 255, // red [0-255]\r\n\t\t\tg: 255, // green [0-255]\r\n\t\t\tb: 255, // blue [0-255]\r\n\t\t\th: 0, // hue [0-360]\r\n\t\t\ts: 0, // saturation [0-100]\r\n\t\t\tv: 100, // value (brightness) [0-100]\r\n\t\t\ta: 1.0, // alpha (opacity) [0.0 - 1.0]\r\n\t\t};\r\n\r\n\t\t// General options\r\n\t\t//\r\n\t\tthis.format = 'auto'; // 'auto' | 'any' | 'hex' | 'hexa' | 'rgb' | 'rgba' - Format of the input/output value\r\n\t\tthis.value = undefined; // INITIAL color value in any supported format. To change it later, use method fromString(), fromHSVA(), fromRGBA() or channel()\r\n\t\tthis.alpha = undefined; // INITIAL alpha value. To change it later, call method channel('A', <value>)\r\n\t\tthis.random = false; // whether to randomize the initial color. Either true | false, or an array of ranges: [minV, maxV, minS, maxS, minH, maxH, minA, maxA]\r\n\t\tthis.onChange = undefined; // called when color changes. Value can be either a function or a string with JS code.\r\n\t\tthis.onInput = undefined; // called repeatedly as the color is being changed, e.g. while dragging a slider. Value can be either a function or a string with JS code.\r\n\t\tthis.valueElement = undefined; // element that will be used to display and input the color value\r\n\t\tthis.alphaElement = undefined; // element that will be used to display and input the alpha (opacity) value\r\n\t\tthis.previewElement = undefined; // element that will preview the picked color using CSS background\r\n\t\tthis.previewPosition = 'left'; // 'left' | 'right' - position of the color preview in previewElement\r\n\t\tthis.previewSize = 32; // (px) width of the color preview displayed in previewElement\r\n\t\tthis.previewPadding = 8; // (px) space between color preview and content of the previewElement\r\n\t\tthis.required = true; // whether the associated text input must always contain a color value. If false, the input can be left empty.\r\n\t\tthis.hash = true; // whether to prefix the HEX color code with # symbol (only applicable for HEX format)\r\n\t\tthis.uppercase = true; // whether to show the HEX color code in upper case (only applicable for HEX format)\r\n\t\tthis.forceStyle = true; // whether to overwrite CSS style of the previewElement using !important flag\r\n\r\n\t\t// Color Picker options\r\n\t\t//\r\n\t\tthis.width = 181; // width of the color spectrum (in px)\r\n\t\tthis.height = 101; // height of the color spectrum (in px)\r\n\t\tthis.mode = 'HSV'; // 'HSV' | 'HVS' | 'HS' | 'HV' - layout of the color picker controls\r\n\t\tthis.alphaChannel = 'auto'; // 'auto' | true | false - if alpha channel is enabled, the alpha slider will be visible. If 'auto', it will be determined according to color format\r\n\t\tthis.position = 'bottom'; // 'left' | 'right' | 'top' | 'bottom' - position relative to the target element\r\n\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n\t\tthis.showOnClick = true; // whether to show the picker when user clicks its target element\r\n\t\tthis.hideOnLeave = true; // whether to automatically hide the picker when user leaves its target element (e.g. upon clicking the document)\r\n\t\tthis.palette = []; // colors to be displayed in the palette, specified as an array or a string of space separated color values (in any supported format)\r\n\t\tthis.paletteCols = 10; // number of columns in the palette\r\n\t\tthis.paletteSetsAlpha = 'auto'; // 'auto' | true | false - if true, palette colors that don't specify alpha will set alpha to 1.0\r\n\t\tthis.paletteHeight = 16; // maximum height (px) of a row in the palette\r\n\t\tthis.paletteSpacing = 4; // distance (px) between color samples in the palette\r\n\t\tthis.hideOnPaletteClick = false; // when set to true, clicking the palette will also hide the color picker\r\n\t\tthis.sliderSize = 16; // px\r\n\t\tthis.crossSize = 8; // px\r\n\t\tthis.closeButton = false; // whether to display the Close button\r\n\t\tthis.closeText = 'Close';\r\n\t\tthis.buttonColor = 'rgba(0,0,0,1)'; // CSS color\r\n\t\tthis.buttonHeight = 18; // px\r\n\t\tthis.padding = 12; // px\r\n\t\tthis.backgroundColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\tthis.borderWidth = 1; // px\r\n\t\tthis.borderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\tthis.borderRadius = 8; // px\r\n\t\tthis.controlBorderWidth = 1; // px\r\n\t\tthis.controlBorderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\tthis.shadow = true; // whether to display a shadow\r\n\t\tthis.shadowBlur = 15; // px\r\n\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\r\n\t\tthis.pointerColor = 'rgba(76,76,76,1)'; // CSS color\r\n\t\tthis.pointerBorderWidth = 1; // px\r\n\t\tthis.pointerBorderColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\tthis.pointerThickness = 2; // px\r\n\t\tthis.zIndex = 5000;\r\n\t\tthis.container = undefined; // where to append the color picker (BODY element by default)\r\n\r\n\t\t// Experimental\r\n\t\t//\r\n\t\tthis.minS = 0; // min allowed saturation (0 - 100)\r\n\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\r\n\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\r\n\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\t\tthis.minA = 0.0; // min allowed alpha (opacity) (0.0 - 1.0)\r\n\t\tthis.maxA = 1.0; // max allowed alpha (opacity) (0.0 - 1.0)\r\n\r\n\r\n\t\t// Getter: option(name)\r\n\t\t// Setter: option(name, value)\r\n\t\t//         option({name:value, ...})\r\n\t\t//\r\n\t\tthis.option = function () {\r\n\t\t\tif (!arguments.length) {\r\n\t\t\t\tthrow new Error('No option specified');\r\n\t\t\t}\r\n\r\n\t\t\tif (arguments.length === 1 && typeof arguments[0] === 'string') {\r\n\t\t\t\t// getting a single option\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn getOption(arguments[0]);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t} else if (arguments.length >= 2 && typeof arguments[0] === 'string') {\r\n\t\t\t\t// setting a single option\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!setOption(arguments[0], arguments[1])) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (arguments.length === 1 && typeof arguments[0] === 'object') {\r\n\t\t\t\t// setting multiple options\r\n\t\t\t\tvar opts = arguments[0];\r\n\t\t\t\tvar success = true;\r\n\t\t\t\tfor (var opt in opts) {\r\n\t\t\t\t\tif (opts.hasOwnProperty(opt)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (!setOption(opt, opts[opt])) {\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\treturn success;\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Invalid arguments');\r\n\t\t}\r\n\r\n\r\n\t\t// Getter: channel(name)\r\n\t\t// Setter: channel(name, value)\r\n\t\t//\r\n\t\tthis.channel = function (name, value) {\r\n\t\t\tif (typeof name !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for channel name: ' + name);\r\n\t\t\t}\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\t// getting channel value\r\n\t\t\t\tif (!this.channels.hasOwnProperty(name.toLowerCase())) {\r\n\t\t\t\t\tconsole.warn('Getting unknown channel: ' + name);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.channels[name.toLowerCase()];\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// setting channel value\r\n\t\t\t\tvar res = false;\r\n\t\t\t\tswitch (name.toLowerCase()) {\r\n\t\t\t\t\tcase 'r': res = this.fromRGBA(value, null, null, null); break;\r\n\t\t\t\t\tcase 'g': res = this.fromRGBA(null, value, null, null); break;\r\n\t\t\t\t\tcase 'b': res = this.fromRGBA(null, null, value, null); break;\r\n\t\t\t\t\tcase 'h': res = this.fromHSVA(value, null, null, null); break;\r\n\t\t\t\t\tcase 's': res = this.fromHSVA(null, value, null, null); break;\r\n\t\t\t\t\tcase 'v': res = this.fromHSVA(null, null, value, null); break;\r\n\t\t\t\t\tcase 'a': res = this.fromHSVA(null, null, null, value); break;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('Setting unknown channel: ' + name);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\t// Triggers given input event(s) by:\r\n\t\t// - executing on<Event> callback specified as picker's option\r\n\t\t// - triggering standard DOM event listeners attached to the value element\r\n\t\t//\r\n\t\t// It is possible to specify multiple events separated with a space.\r\n\t\t//\r\n\t\tthis.trigger = function (eventNames) {\r\n\t\t\tvar evs = jsc.strList(eventNames);\r\n\t\t\tfor (var i = 0; i < evs.length; i += 1) {\r\n\t\t\t\tvar ev = evs[i].toLowerCase();\r\n\r\n\t\t\t\t// trigger a callback\r\n\t\t\t\tvar callbackProp = null;\r\n\t\t\t\tswitch (ev) {\r\n\t\t\t\t\tcase 'input': callbackProp = 'onInput'; break;\r\n\t\t\t\t\tcase 'change': callbackProp = 'onChange'; break;\r\n\t\t\t\t}\r\n\t\t\t\tif (callbackProp) {\r\n\t\t\t\t\tjsc.triggerCallback(this, callbackProp);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// trigger standard DOM event listeners on the value element\r\n\t\t\t\tjsc.triggerInputEvent(this.valueElement, ev, true, true);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t// a: 0.0-1.0\r\n\t\t//\r\n\t\tthis.fromHSVA = function (h, s, v, a, flags) { // null = don't change\r\n\t\t\tif (h === undefined) { h = null; }\r\n\t\t\tif (s === undefined) { s = null; }\r\n\t\t\tif (v === undefined) { v = null; }\r\n\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\tif (h !== null) {\r\n\t\t\t\tif (isNaN(h)) { return false; }\r\n\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, h));\r\n\t\t\t}\r\n\t\t\tif (s !== null) {\r\n\t\t\t\tif (isNaN(s)) { return false; }\r\n\t\t\t\tthis.channels.s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n\t\t\t}\r\n\t\t\tif (v !== null) {\r\n\t\t\t\tif (isNaN(v)) { return false; }\r\n\t\t\t\tthis.channels.v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n\t\t\t}\r\n\t\t\tif (a !== null) {\r\n\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t}\r\n\r\n\t\t\tvar rgb = jsc.HSV_RGB(\r\n\t\t\t\tthis.channels.h,\r\n\t\t\t\tthis.channels.s,\r\n\t\t\t\tthis.channels.v\r\n\t\t\t);\r\n\t\t\tthis.channels.r = rgb[0];\r\n\t\t\tthis.channels.g = rgb[1];\r\n\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\tthis.exposeColor(flags);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t// a: 0.0-1.0\r\n\t\t//\r\n\t\tthis.fromRGBA = function (r, g, b, a, flags) { // null = don't change\r\n\t\t\tif (r === undefined) { r = null; }\r\n\t\t\tif (g === undefined) { g = null; }\r\n\t\t\tif (b === undefined) { b = null; }\r\n\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\tif (r !== null) {\r\n\t\t\t\tif (isNaN(r)) { return false; }\r\n\t\t\t\tr = Math.max(0, Math.min(255, r));\r\n\t\t\t}\r\n\t\t\tif (g !== null) {\r\n\t\t\t\tif (isNaN(g)) { return false; }\r\n\t\t\t\tg = Math.max(0, Math.min(255, g));\r\n\t\t\t}\r\n\t\t\tif (b !== null) {\r\n\t\t\t\tif (isNaN(b)) { return false; }\r\n\t\t\t\tb = Math.max(0, Math.min(255, b));\r\n\t\t\t}\r\n\t\t\tif (a !== null) {\r\n\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t}\r\n\r\n\t\t\tvar hsv = jsc.RGB_HSV(\r\n\t\t\t\tr===null ? this.channels.r : r,\r\n\t\t\t\tg===null ? this.channels.g : g,\r\n\t\t\t\tb===null ? this.channels.b : b\r\n\t\t\t);\r\n\t\t\tif (hsv[0] !== null) {\r\n\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, hsv[0]));\r\n\t\t\t}\r\n\t\t\tif (hsv[2] !== 0) { // fully black color stays black through entire saturation range, so let's not change saturation\r\n\t\t\t\tthis.channels.s = Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n\t\t\t}\r\n\t\t\tthis.channels.v = Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n\t\t\t// update RGB according to final HSV, as some values might be trimmed\r\n\t\t\tvar rgb = jsc.HSV_RGB(this.channels.h, this.channels.s, this.channels.v);\r\n\t\t\tthis.channels.r = rgb[0];\r\n\t\t\tthis.channels.g = rgb[1];\r\n\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\tthis.exposeColor(flags);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\t// DEPRECATED. Use .fromHSVA() instead\r\n\t\t//\r\n\t\tthis.fromHSV = function (h, s, v, flags) {\r\n\t\t\tconsole.warn('fromHSV() method is DEPRECATED. Using fromHSVA() instead.' + jsc.docsRef);\r\n\t\t\treturn this.fromHSVA(h, s, v, null, flags);\r\n\t\t};\r\n\r\n\r\n\t\t// DEPRECATED. Use .fromRGBA() instead\r\n\t\t//\r\n\t\tthis.fromRGB = function (r, g, b, flags) {\r\n\t\t\tconsole.warn('fromRGB() method is DEPRECATED. Using fromRGBA() instead.' + jsc.docsRef);\r\n\t\t\treturn this.fromRGBA(r, g, b, null, flags);\r\n\t\t};\r\n\r\n\r\n\t\tthis.fromString = function (str, flags) {\r\n\t\t\tif (!this.required && str.trim() === '') {\r\n\t\t\t\t// setting empty string to an optional color input\r\n\t\t\t\tthis.setPreviewElementBg(null);\r\n\t\t\t\tthis.setValueElementValue('');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvar color = jsc.parseColorString(str);\r\n\t\t\tif (!color) {\r\n\t\t\t\treturn false; // could not parse\r\n\t\t\t}\r\n\t\t\tif (this.format.toLowerCase() === 'any') {\r\n\t\t\t\tthis._setFormat(color.format); // adapt format\r\n\t\t\t\tif (!jsc.isAlphaFormat(this.getFormat())) {\r\n\t\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.fromRGBA(\r\n\t\t\t\tcolor.rgba[0],\r\n\t\t\t\tcolor.rgba[1],\r\n\t\t\t\tcolor.rgba[2],\r\n\t\t\t\tcolor.rgba[3],\r\n\t\t\t\tflags\r\n\t\t\t);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\tthis.randomize = function (minV, maxV, minS, maxS, minH, maxH, minA, maxA) {\r\n\t\t\tif (minV === undefined) { minV = 0; }\r\n\t\t\tif (maxV === undefined) { maxV = 100; }\r\n\t\t\tif (minS === undefined) { minS = 0; }\r\n\t\t\tif (maxS === undefined) { maxS = 100; }\r\n\t\t\tif (minH === undefined) { minH = 0; }\r\n\t\t\tif (maxH === undefined) { maxH = 359; }\r\n\t\t\tif (minA === undefined) { minA = 1; }\r\n\t\t\tif (maxA === undefined) { maxA = 1; }\r\n\r\n\t\t\tthis.fromHSVA(\r\n\t\t\t\tminH + Math.floor(Math.random() * (maxH - minH + 1)),\r\n\t\t\t\tminS + Math.floor(Math.random() * (maxS - minS + 1)),\r\n\t\t\t\tminV + Math.floor(Math.random() * (maxV - minV + 1)),\r\n\t\t\t\t((100 * minA) + Math.floor(Math.random() * (100 * (maxA - minA) + 1))) / 100\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toString = function (format) {\r\n\t\t\tif (format === undefined) {\r\n\t\t\t\tformat = this.getFormat(); // format not specified -> use the current format\r\n\t\t\t}\r\n\t\t\tswitch (format.toLowerCase()) {\r\n\t\t\t\tcase 'hex': return this.toHEXString(); break;\r\n\t\t\t\tcase 'hexa': return this.toHEXAString(); break;\r\n\t\t\t\tcase 'rgb': return this.toRGBString(); break;\r\n\t\t\t\tcase 'rgba': return this.toRGBAString(); break;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXString = function () {\r\n\t\t\treturn jsc.hexColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXAString = function () {\r\n\t\t\treturn jsc.hexaColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b,\r\n\t\t\t\tthis.channels.a\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBString = function () {\r\n\t\t\treturn jsc.rgbColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBAString = function () {\r\n\t\t\treturn jsc.rgbaColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b,\r\n\t\t\t\tthis.channels.a\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toGrayscale = function () {\r\n\t\t\treturn (\r\n\t\t\t\t0.213 * this.channels.r +\r\n\t\t\t\t0.715 * this.channels.g +\r\n\t\t\t\t0.072 * this.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toCanvas = function () {\r\n\t\t\treturn jsc.genColorPreviewCanvas(this.toRGBAString()).canvas;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toDataURL = function () {\r\n\t\t\treturn this.toCanvas().toDataURL();\r\n\t\t};\r\n\r\n\r\n\t\tthis.toBackground = function () {\r\n\t\t\treturn jsc.pub.background(this.toRGBAString());\r\n\t\t};\r\n\r\n\r\n\t\tthis.isLight = function () {\r\n\t\t\treturn this.toGrayscale() > 255 / 2;\r\n\t\t};\r\n\r\n\r\n\t\tthis.hide = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdetachPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.show = function () {\r\n\t\t\tdrawPicker();\r\n\t\t};\r\n\r\n\r\n\t\tthis.redraw = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdrawPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.getFormat = function () {\r\n\t\t\treturn this._currentFormat;\r\n\t\t};\r\n\r\n\r\n\t\tthis._setFormat = function (format) {\r\n\t\t\tthis._currentFormat = format.toLowerCase();\r\n\t\t};\r\n\r\n\r\n\t\tthis.hasAlphaChannel = function () {\r\n\t\t\tif (this.alphaChannel === 'auto') {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.format.toLowerCase() === 'any' || // format can change on the fly (e.g. from hex to rgba), so let's consider the alpha channel enabled\r\n\t\t\t\t\tjsc.isAlphaFormat(this.getFormat()) || // the current format supports alpha channel\r\n\t\t\t\t\tthis.alpha !== undefined || // initial alpha value is set, so we're working with alpha channel\r\n\t\t\t\t\tthis.alphaElement !== undefined // the alpha value is redirected, so we're working with alpha channel\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.alphaChannel; // the alpha channel is explicitly set\r\n\t\t};\r\n\r\n\r\n\t\tthis.processValueInput = function (str) {\r\n\t\t\tif (!this.fromString(str)) {\r\n\t\t\t\t// could not parse the color value - let's just expose the current color\r\n\t\t\t\tthis.exposeColor();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.processAlphaInput = function (str) {\r\n\t\t\tif (!this.fromHSVA(null, null, null, parseFloat(str))) {\r\n\t\t\t\t// could not parse the alpha value - let's just expose the current color\r\n\t\t\t\tthis.exposeColor();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.exposeColor = function (flags) {\r\n\t\t\tvar colorStr = this.toString();\r\n\t\t\tvar fmt = this.getFormat();\r\n\r\n\t\t\t// reflect current color in data- attribute\r\n\t\t\tjsc.setDataAttr(this.targetElement, 'current-color', colorStr);\r\n\r\n\t\t\tif (!(flags & jsc.flags.leaveValue) && this.valueElement) {\r\n\t\t\t\tif (fmt === 'hex' || fmt === 'hexa') {\r\n\t\t\t\t\tif (!this.uppercase) { colorStr = colorStr.toLowerCase(); }\r\n\t\t\t\t\tif (!this.hash) { colorStr = colorStr.replace(/^#/, ''); }\r\n\t\t\t\t}\r\n\t\t\t\tthis.setValueElementValue(colorStr);\r\n\t\t\t}\r\n\r\n\t\t\tif (!(flags & jsc.flags.leaveAlpha) && this.alphaElement) {\r\n\t\t\t\tvar alphaVal = Math.round(this.channels.a * 100) / 100;\r\n\t\t\t\tthis.setAlphaElementValue(alphaVal);\r\n\t\t\t}\r\n\r\n\t\t\tif (!(flags & jsc.flags.leavePreview) && this.previewElement) {\r\n\t\t\t\tvar previewPos = null; // 'left' | 'right' (null -> fill the entire element)\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t\t) {\r\n\t\t\t\t\tpreviewPos = this.previewPosition;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setPreviewElementBg(this.toRGBAString());\r\n\t\t\t}\r\n\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tredrawPad();\r\n\t\t\t\tredrawSld();\r\n\t\t\t\tredrawASld();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.setPreviewElementBg = function (color) {\r\n\t\t\tif (!this.previewElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar position = null; // color preview position:  null | 'left' | 'right'\r\n\t\t\tvar width = null; // color preview width:  px | null = fill the entire element\r\n\t\t\tif (\r\n\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t) {\r\n\t\t\t\tposition = this.previewPosition;\r\n\t\t\t\twidth = this.previewSize;\r\n\t\t\t}\r\n\r\n\t\t\tvar backgrounds = [];\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\t// there is no color preview to display -> let's remove any previous background image\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: 'none',\r\n\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\trepeat: 'no-repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// CSS gradient for background color preview\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: jsc.genColorPreviewGradient(\r\n\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\tposition,\r\n\t\t\t\t\t\twidth ? width - jsc.pub.previewSeparator.length : null\r\n\t\t\t\t\t),\r\n\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// data URL of generated PNG image with a gray transparency chessboard\r\n\t\t\t\tvar preview = jsc.genColorPreviewCanvas(\r\n\t\t\t\t\t'rgba(0,0,0,0)',\r\n\t\t\t\t\tposition ? {'left':'right', 'right':'left'}[position] : null,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: 'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t\t\t\tposition: (position || 'left') + ' top',\r\n\t\t\t\t\tsize: preview.width + 'px ' + preview.height + 'px',\r\n\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar bg = {\r\n\t\t\t\timage: [],\r\n\t\t\t\tposition: [],\r\n\t\t\t\tsize: [],\r\n\t\t\t\trepeat: [],\r\n\t\t\t\torigin: [],\r\n\t\t\t};\r\n\t\t\tfor (var i = 0; i < backgrounds.length; i += 1) {\r\n\t\t\t\tbg.image.push(backgrounds[i].image);\r\n\t\t\t\tbg.position.push(backgrounds[i].position);\r\n\t\t\t\tbg.size.push(backgrounds[i].size);\r\n\t\t\t\tbg.repeat.push(backgrounds[i].repeat);\r\n\t\t\t\tbg.origin.push(backgrounds[i].origin);\r\n\t\t\t}\r\n\r\n\t\t\t// set previewElement's background-images\r\n\t\t\tvar sty = {\r\n\t\t\t\t'background-image': bg.image.join(', '),\r\n\t\t\t\t'background-position': bg.position.join(', '),\r\n\t\t\t\t'background-size': bg.size.join(', '),\r\n\t\t\t\t'background-repeat': bg.repeat.join(', '),\r\n\t\t\t\t'background-origin': bg.origin.join(', '),\r\n\t\t\t};\r\n\t\t\tjsc.setStyle(this.previewElement, sty, this.forceStyle);\r\n\r\n\r\n\t\t\t// set/restore previewElement's padding\r\n\t\t\tvar padding = {\r\n\t\t\t\tleft: null,\r\n\t\t\t\tright: null,\r\n\t\t\t};\r\n\t\t\tif (position) {\r\n\t\t\t\tpadding[position] = (this.previewSize + this.previewPadding) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tvar sty = {\r\n\t\t\t\t'padding-left': padding.left,\r\n\t\t\t\t'padding-right': padding.right,\r\n\t\t\t};\r\n\t\t\tjsc.setStyle(this.previewElement, sty, this.forceStyle, true);\r\n\t\t};\r\n\r\n\r\n\t\tthis.setValueElementValue = function (str) {\r\n\t\t\tif (this.valueElement) {\r\n\t\t\t\tif (jsc.nodeName(this.valueElement) === 'input') {\r\n\t\t\t\t\tthis.valueElement.value = str;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.valueElement.innerHTML = str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.setAlphaElementValue = function (str) {\r\n\t\t\tif (this.alphaElement) {\r\n\t\t\t\tif (jsc.nodeName(this.alphaElement) === 'input') {\r\n\t\t\t\t\tthis.alphaElement.value = str;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.alphaElement.innerHTML = str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis._processParentElementsInDOM = function () {\r\n\t\t\tif (this._parentElementsProcessed) { return; }\r\n\t\t\tthis._parentElementsProcessed = true;\r\n\r\n\t\t\tvar elm = this.targetElement;\r\n\t\t\tdo {\r\n\t\t\t\t// If the target element or one of its parent nodes has fixed position,\r\n\t\t\t\t// then use fixed positioning instead\r\n\t\t\t\tvar compStyle = jsc.getCompStyle(elm);\r\n\t\t\t\tif (compStyle.position && compStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\t\tthis.fixed = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\r\n\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\r\n\t\t\t\t\t// that's why we loop through all parent nodes\r\n\t\t\t\t\tif (!jsc.getData(elm, 'hasScrollListener')) {\r\n\t\t\t\t\t\telm.addEventListener('scroll', jsc.onParentScroll, false);\r\n\t\t\t\t\t\tjsc.setData(elm, 'hasScrollListener', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while ((elm = elm.parentNode) && jsc.nodeName(elm) !== 'body');\r\n\t\t};\r\n\r\n\r\n\t\tthis.tryHide = function () {\r\n\t\t\tif (this.hideOnLeave) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.set__palette = function (val) {\r\n\t\t\tthis.palette = val;\r\n\t\t\tthis._palette = jsc.parsePaletteValue(val);\r\n\t\t\tthis._paletteHasTransparency = jsc.containsTranparentColor(this._palette);\r\n\t\t};\r\n\r\n\r\n\t\tfunction setOption (option, value) {\r\n\t\t\tif (typeof option !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t}\r\n\r\n\t\t\t// enum option\r\n\t\t\tif (jsc.enumOpts.hasOwnProperty(option)) {\r\n\t\t\t\tif (typeof value === 'string') { // enum string values are case insensitive\r\n\t\t\t\t\tvalue = value.toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tif (jsc.enumOpts[option].indexOf(value) === -1) {\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' has invalid value: ' + value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// deprecated option\r\n\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option)) {\r\n\t\t\t\tvar oldOpt = option;\r\n\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\tif (newOpt) {\r\n\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\toption = newOpt;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar setter = 'set__' + option;\r\n\r\n\t\t\tif (typeof THIS[setter] === 'function') { // a setter exists for this option\r\n\t\t\t\tTHIS[setter](value);\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (option in THIS) { // option exists as a property\r\n\t\t\t\tTHIS[option] = value;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t}\r\n\r\n\r\n\t\tfunction getOption (option) {\r\n\t\t\tif (typeof option !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t}\r\n\r\n\t\t\t// deprecated option\r\n\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option)) {\r\n\t\t\t\tvar oldOpt = option;\r\n\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\tif (newOpt) {\r\n\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\toption = newOpt;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar getter = 'get__' + option;\r\n\r\n\t\t\tif (typeof THIS[getter] === 'function') { // a getter exists for this option\r\n\t\t\t\treturn THIS[getter](value);\r\n\r\n\t\t\t} else if (option in THIS) { // option exists as a property\r\n\t\t\t\treturn THIS[option];\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t}\r\n\r\n\r\n\t\tfunction detachPicker () {\r\n\t\t\tjsc.removeClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n\t\t\tdelete jsc.picker.owner;\r\n\t\t}\r\n\r\n\r\n\t\tfunction drawPicker () {\r\n\r\n\t\t\t// At this point, when drawing the picker, we know what the parent elements are\r\n\t\t\t// and we can do all related DOM operations, such as registering events on them\r\n\t\t\t// or checking their positioning\r\n\t\t\tTHIS._processParentElementsInDOM();\r\n\r\n\t\t\tif (!jsc.picker) {\r\n\t\t\t\tjsc.picker = {\r\n\t\t\t\t\towner: null, // owner picker instance\r\n\t\t\t\t\twrap : jsc.createEl('div'),\r\n\t\t\t\t\tbox : jsc.createEl('div'),\r\n\t\t\t\t\tboxS : jsc.createEl('div'), // shadow area\r\n\t\t\t\t\tboxB : jsc.createEl('div'), // border\r\n\t\t\t\t\tpad : jsc.createEl('div'),\r\n\t\t\t\t\tpadB : jsc.createEl('div'), // border\r\n\t\t\t\t\tpadM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tpadCanvas : jsc.createPadCanvas(),\r\n\t\t\t\t\tcross : jsc.createEl('div'),\r\n\t\t\t\t\tcrossBY : jsc.createEl('div'), // border Y\r\n\t\t\t\t\tcrossBX : jsc.createEl('div'), // border X\r\n\t\t\t\t\tcrossLY : jsc.createEl('div'), // line Y\r\n\t\t\t\t\tcrossLX : jsc.createEl('div'), // line X\r\n\t\t\t\t\tsld : jsc.createEl('div'), // slider\r\n\t\t\t\t\tsldB : jsc.createEl('div'), // border\r\n\t\t\t\t\tsldM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tsldGrad : jsc.createSliderGradient(),\r\n\t\t\t\t\tsldPtrS : jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\tsldPtrIB : jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\tsldPtrMB : jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\tsldPtrOB : jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\tasld : jsc.createEl('div'), // alpha slider\r\n\t\t\t\t\tasldB : jsc.createEl('div'), // border\r\n\t\t\t\t\tasldM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tasldGrad : jsc.createASliderGradient(),\r\n\t\t\t\t\tasldPtrS : jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\tasldPtrIB : jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\tasldPtrMB : jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\tasldPtrOB : jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\tpal : jsc.createEl('div'), // palette\r\n\t\t\t\t\tbtn : jsc.createEl('div'),\r\n\t\t\t\t\tbtnT : jsc.createEl('div'), // text\r\n\t\t\t\t};\r\n\r\n\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padCanvas.elm);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n\t\t\t\tjsc.picker.asld.appendChild(jsc.picker.asldGrad.elm);\r\n\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asld);\r\n\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asldPtrOB);\r\n\t\t\t\tjsc.picker.asldPtrOB.appendChild(jsc.picker.asldPtrMB);\r\n\t\t\t\tjsc.picker.asldPtrMB.appendChild(jsc.picker.asldPtrIB);\r\n\t\t\t\tjsc.picker.asldPtrIB.appendChild(jsc.picker.asldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldM);\r\n\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.pal);\r\n\r\n\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n\r\n\t\t\t\tjsc.picker.wrap.addEventListener('touchstart', jsc.onPickerTouchStart,\r\n\t\t\t\t\tjsc.isPassiveEventSupported ? {passive: false} : false);\r\n\t\t\t}\r\n\r\n\t\t\tvar p = jsc.picker;\r\n\r\n\t\t\tvar displaySlider = !!jsc.getSliderChannel(THIS);\r\n\t\t\tvar displayAlphaSlider = THIS.hasAlphaChannel();\r\n\t\t\tvar pickerDims = jsc.getPickerDims(THIS);\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar controlPadding = jsc.getControlPadding(THIS);\r\n\t\t\tvar borderRadius = Math.min(\r\n\t\t\t\tTHIS.borderRadius,\r\n\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\r\n\t\t\tvar padCursor = 'crosshair';\r\n\r\n\t\t\t// wrap\r\n\t\t\tp.wrap.className = 'jscolor-wrap';\r\n\t\t\tp.wrap.style.width = pickerDims.borderW + 'px';\r\n\t\t\tp.wrap.style.height = pickerDims.borderH + 'px';\r\n\t\t\tp.wrap.style.zIndex = THIS.zIndex;\r\n\r\n\t\t\t// picker\r\n\t\t\tp.box.className = 'jscolor-picker';\r\n\t\t\tp.box.style.width = pickerDims.paddedW + 'px';\r\n\t\t\tp.box.style.height = pickerDims.paddedH + 'px';\r\n\r\n\t\t\t// picker shadow\r\n\t\t\tp.boxS.className = 'jscolor-shadow';\r\n\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\r\n\r\n\t\t\t// picker border\r\n\t\t\tp.boxB.className = 'jscolor-border';\r\n\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\r\n\t\t\tp.boxB.style.borderColor = THIS.borderColor;\r\n\t\t\tp.boxB.style.background = THIS.backgroundColor;\r\n\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\r\n\r\n\t\t\t// IE hack:\r\n\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\r\n\t\t\t// e.g. on Canvas or on elements with border\r\n\t\t\tp.padM.style.background = 'rgba(255,0,0,.2)';\r\n\t\t\tp.sldM.style.background = 'rgba(0,255,0,.2)';\r\n\t\t\tp.asldM.style.background = 'rgba(0,0,255,.2)';\r\n\r\n\t\t\tp.padM.style.opacity =\r\n\t\t\tp.sldM.style.opacity =\r\n\t\t\tp.asldM.style.opacity =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad\r\n\t\t\tp.pad.style.position = 'relative';\r\n\t\t\tp.pad.style.width = THIS.width + 'px';\r\n\t\t\tp.pad.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// pad - color spectrum (HSV and HVS)\r\n\t\t\tp.padCanvas.draw(THIS.width, THIS.height, jsc.getPadYChannel(THIS));\r\n\r\n\t\t\t// pad border\r\n\t\t\tp.padB.style.position = 'absolute';\r\n\t\t\tp.padB.style.left = THIS.padding + 'px';\r\n\t\t\tp.padB.style.top = THIS.padding + 'px';\r\n\t\t\tp.padB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.padB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// pad mouse area\r\n\t\t\tp.padM.style.position = 'absolute';\r\n\t\t\tp.padM.style.left = 0 + 'px';\r\n\t\t\tp.padM.style.top = 0 + 'px';\r\n\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.controlBorderWidth + THIS.width + controlPadding) + 'px';\r\n\t\t\tp.padM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.padM.style.cursor = padCursor;\r\n\t\t\tjsc.setData(p.padM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'pad',\r\n\t\t\t})\r\n\r\n\t\t\t// pad cross\r\n\t\t\tp.cross.style.position = 'absolute';\r\n\t\t\tp.cross.style.left =\r\n\t\t\tp.cross.style.top =\r\n\t\t\t\t'0';\r\n\t\t\tp.cross.style.width =\r\n\t\t\tp.cross.style.height =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\r\n\t\t\t// pad cross border Y and X\r\n\t\t\tp.crossBY.style.position =\r\n\t\t\tp.crossBX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossBY.style.background =\r\n\t\t\tp.crossBX.style.background =\r\n\t\t\t\tTHIS.pointerBorderColor;\r\n\t\t\tp.crossBY.style.width =\r\n\t\t\tp.crossBX.style.height =\r\n\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.crossBY.style.height =\r\n\t\t\tp.crossBX.style.width =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\t\t\tp.crossBY.style.left =\r\n\t\t\tp.crossBX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossBY.style.top =\r\n\t\t\tp.crossBX.style.left =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad cross line Y and X\r\n\t\t\tp.crossLY.style.position =\r\n\t\t\tp.crossLX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossLY.style.background =\r\n\t\t\tp.crossLX.style.background =\r\n\t\t\t\tTHIS.pointerColor;\r\n\t\t\tp.crossLY.style.height =\r\n\t\t\tp.crossLX.style.width =\r\n\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossLY.style.width =\r\n\t\t\tp.crossLX.style.height =\r\n\t\t\t\tTHIS.pointerThickness + 'px';\r\n\t\t\tp.crossLY.style.left =\r\n\t\t\tp.crossLX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\r\n\t\t\tp.crossLY.style.top =\r\n\t\t\tp.crossLX.style.left =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px';\r\n\r\n\r\n\t\t\t// slider\r\n\t\t\tp.sld.style.overflow = 'hidden';\r\n\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// slider gradient\r\n\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\r\n\r\n\t\t\t// slider border\r\n\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldB.style.position = 'absolute';\r\n\t\t\tp.sldB.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + 2 * controlPadding) + 'px';\r\n\t\t\tp.sldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.sldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// slider mouse area\r\n\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldM.style.position = 'absolute';\r\n\t\t\tp.sldM.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) + 'px';\r\n\t\t\tp.sldM.style.top = 0 + 'px';\r\n\t\t\tp.sldM.style.width = (\r\n\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\t(displayAlphaSlider ? 0 : Math.max(0, THIS.padding - controlPadding)) // remaining padding to the right edge\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.sldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.sldM.style.cursor = 'default';\r\n\t\t\tjsc.setData(p.sldM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'sld',\r\n\t\t\t});\r\n\r\n\t\t\t// slider pointer inner and outer border\r\n\t\t\tp.sldPtrIB.style.border =\r\n\t\t\tp.sldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// slider pointer outer border\r\n\t\t\tp.sldPtrOB.style.position = 'absolute';\r\n\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.sldPtrOB.style.top = '0';\r\n\r\n\t\t\t// slider pointer middle border\r\n\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// slider pointer spacer\r\n\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t// alpha slider\r\n\t\t\tp.asld.style.overflow = 'hidden';\r\n\t\t\tp.asld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.asld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// alpha slider gradient\r\n\t\t\tp.asldGrad.draw(THIS.sliderSize, THIS.height, '#000');\r\n\r\n\t\t\t// alpha slider border\r\n\t\t\tp.asldB.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\tp.asldB.style.position = 'absolute';\r\n\t\t\tp.asldB.style.left = (\r\n\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 3 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.asldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.asldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// alpha slider mouse area\r\n\t\t\tp.asldM.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\tp.asldM.style.position = 'absolute';\r\n\t\t\tp.asldM.style.left = (\r\n\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldM.style.top = 0 + 'px';\r\n\t\t\tp.asldM.style.width = (\r\n\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\tMath.max(0, THIS.padding - controlPadding) // remaining padding to the right edge\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.asldM.style.cursor = 'default';\r\n\t\t\tjsc.setData(p.asldM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'asld',\r\n\t\t\t})\r\n\r\n\t\t\t// alpha slider pointer inner and outer border\r\n\t\t\tp.asldPtrIB.style.border =\r\n\t\t\tp.asldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// alpha slider pointer outer border\r\n\t\t\tp.asldPtrOB.style.position = 'absolute';\r\n\t\t\tp.asldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.asldPtrOB.style.top = '0';\r\n\r\n\t\t\t// alpha slider pointer middle border\r\n\t\t\tp.asldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// alpha slider pointer spacer\r\n\t\t\tp.asldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.asldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t// palette\r\n\t\t\tp.pal.className = 'jscolor-palette';\r\n\t\t\tp.pal.style.display = pickerDims.palette.rows ? 'block' : 'none';\r\n\t\t\tp.pal.style.left = THIS.padding + 'px';\r\n\t\t\tp.pal.style.top = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\r\n\t\t\t// palette's color samples\r\n\r\n\t\t\tp.pal.innerHTML = '';\r\n\r\n\t\t\tvar chessboard = jsc.genColorPreviewCanvas('rgba(0,0,0,0)');\r\n\r\n\t\t\tvar si = 0; // color sample's index\r\n\t\t\tfor (var r = 0; r < pickerDims.palette.rows; r++) {\r\n\t\t\t\tfor (var c = 0; c < pickerDims.palette.cols && si < THIS._palette.length; c++, si++) {\r\n\t\t\t\t\tvar sampleColor = THIS._palette[si];\r\n\t\t\t\t\tvar sampleCssColor = jsc.rgbaColor.apply(null, sampleColor.rgba);\r\n\r\n\t\t\t\t\tvar sc = jsc.createEl('div'); // color sample's color\r\n\t\t\t\t\tsc.style.width = (pickerDims.palette.cellW - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\tsc.style.height = (pickerDims.palette.cellH - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\tsc.style.backgroundColor = sampleCssColor;\r\n\r\n\t\t\t\t\tvar sw = jsc.createEl('div'); // color sample's wrap\r\n\t\t\t\t\tsw.className = 'jscolor-palette-sw';\r\n\t\t\t\t\tsw.style.left =\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tpickerDims.palette.cols <= 1 ? 0 :\r\n\t\t\t\t\t\t\tMath.round(10 * (c * ((pickerDims.contentW - pickerDims.palette.cellW) / (pickerDims.palette.cols - 1)))) / 10\r\n\t\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tsw.style.top = (r * (pickerDims.palette.cellH + THIS.paletteSpacing)) + 'px';\r\n\t\t\t\t\tsw.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tsw.style.borderColor = THIS.controlBorderColor;\r\n\t\t\t\t\tif (sampleColor.rgba[3] !== null && sampleColor.rgba[3] < 1.0) { // only create chessboard background if the sample has transparency\r\n\t\t\t\t\t\tsw.style.backgroundImage = 'url(\\'' + chessboard.canvas.toDataURL() + '\\')';\r\n\t\t\t\t\t\tsw.style.backgroundRepeat = 'repeat';\r\n\t\t\t\t\t\tsw.style.backgroundPosition = 'center center';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjsc.setData(sw, {\r\n\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\tcontrol: 'palette-sw',\r\n\t\t\t\t\t\tcolor: sampleColor,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsw.addEventListener('click', jsc.onPaletteSampleClick, false);\r\n\t\t\t\t\tsw.appendChild(sc);\r\n\t\t\t\t\tp.pal.appendChild(sw);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// the Close button\r\n\t\t\tfunction setBtnBorder () {\r\n\t\t\t\tvar insetColors = THIS.controlBorderColor.split(/\\s+/);\r\n\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\r\n\t\t\t\tp.btn.style.borderColor = outsetColor;\r\n\t\t\t}\r\n\t\t\tvar btnPadding = 15; // px\r\n\t\t\tp.btn.className = 'jscolor-btn jscolor-btn-close';\r\n\t\t\tp.btn.style.display = THIS.closeButton ? 'block' : 'none';\r\n\t\t\tp.btn.style.left = THIS.padding + 'px';\r\n\t\t\tp.btn.style.bottom = THIS.padding + 'px';\r\n\t\t\tp.btn.style.padding = '0 ' + btnPadding + 'px';\r\n\t\t\tp.btn.style.maxWidth = (pickerDims.contentW - 2 * THIS.controlBorderWidth - 2 * btnPadding) + 'px';\r\n\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\r\n\t\t\tp.btn.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tsetBtnBorder();\r\n\t\t\tp.btn.style.color = THIS.buttonColor;\r\n\t\t\tp.btn.onmousedown = function () {\r\n\t\t\t\tTHIS.hide();\r\n\t\t\t};\r\n\t\t\tp.btnT.style.display = 'inline';\r\n\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\r\n\t\t\tp.btnT.innerText = THIS.closeText;\r\n\r\n\t\t\t// reposition the pointers\r\n\t\t\tredrawPad();\r\n\t\t\tredrawSld();\r\n\t\t\tredrawASld();\r\n\r\n\t\t\t// If we are changing the owner without first closing the picker,\r\n\t\t\t// make sure to first deal with the old owner\r\n\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\r\n\t\t\t\tjsc.removeClass(jsc.picker.owner.targetElement, jsc.pub.activeClassName);\r\n\t\t\t}\r\n\r\n\t\t\t// Set a new picker owner\r\n\t\t\tjsc.picker.owner = THIS;\r\n\r\n\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n\t\t\t// after setting the owner\r\n\t\t\tjsc.redrawPosition();\r\n\r\n\t\t\tif (p.wrap.parentNode !== THIS.container) {\r\n\t\t\t\tTHIS.container.appendChild(p.wrap);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.addClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawPad () {\r\n\t\t\t// redraw the pad pointer\r\n\t\t\tvar yChannel = jsc.getPadYChannel(THIS);\r\n\t\t\tvar x = Math.round((THIS.channels.h / 360) * (THIS.width - 1));\r\n\t\t\tvar y = Math.round((1 - THIS.channels[yChannel] / 100) * (THIS.height - 1));\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\r\n\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\r\n\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\r\n\r\n\t\t\t// redraw the slider\r\n\t\t\tswitch (jsc.getSliderChannel(THIS)) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvar rgb1 = jsc.HSV_RGB(THIS.channels.h, 100, THIS.channels.v);\r\n\t\t\t\tvar rgb2 = jsc.HSV_RGB(THIS.channels.h, 0, THIS.channels.v);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb1[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[2]) + ')';\r\n\t\t\t\tvar color2 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb2[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[2]) + ')';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvar rgb = jsc.HSV_RGB(THIS.channels.h, THIS.channels.s, 100);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[2]) + ')';\r\n\t\t\t\tvar color2 = '#000';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// redraw the alpha slider\r\n\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawSld () {\r\n\t\t\tvar sldChannel = jsc.getSliderChannel(THIS);\r\n\t\t\tif (sldChannel) {\r\n\t\t\t\t// redraw the slider pointer\r\n\t\t\t\tvar y = Math.round((1 - THIS.channels[sldChannel] / 100) * (THIS.height - 1));\r\n\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\t// redraw the alpha slider\r\n\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawASld () {\r\n\t\t\tvar y = Math.round((1 - THIS.channels.a) * (THIS.height - 1));\r\n\t\t\tjsc.picker.asldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t}\r\n\r\n\r\n\t\tfunction isPickerOwner () {\r\n\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueKeyDown (ev) {\r\n\t\t\tif (jsc.eventKey(ev) === 'Enter') {\r\n\t\t\t\tif (THIS.valueElement) {\r\n\t\t\t\t\tTHIS.processValueInput(THIS.valueElement.value);\r\n\t\t\t\t}\r\n\t\t\t\tTHIS.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaKeyDown (ev) {\r\n\t\t\tif (jsc.eventKey(ev) === 'Enter') {\r\n\t\t\t\tif (THIS.alphaElement) {\r\n\t\t\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value);\r\n\t\t\t\t}\r\n\t\t\t\tTHIS.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueChange (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tvar oldVal = THIS.valueElement.value;\r\n\r\n\t\t\tTHIS.processValueInput(THIS.valueElement.value); // this might change the value\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\tif (THIS.valueElement.value !== oldVal) {\r\n\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaChange (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tvar oldVal = THIS.alphaElement.value;\r\n\r\n\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value); // this might change the value\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\t// triggering valueElement's onChange (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\r\n\t\t\tif (THIS.alphaElement.value !== oldVal) {\r\n\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\tjsc.triggerInputEvent(THIS.alphaElement, 'change', true, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueInput (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tif (THIS.valueElement) {\r\n\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.flags.leaveValue);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t// triggering valueElement's onInput\r\n\t\t\t// (not needed, it was dispatched normally by the browser)\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaInput (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tif (THIS.alphaElement) {\r\n\t\t\t\tTHIS.fromHSVA(null, null, null, parseFloat(THIS.alphaElement.value), jsc.flags.leaveAlpha);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t// triggering valueElement's onInput (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'input', true, true);\r\n\t\t}\r\n\r\n\r\n\t\t// let's process the DEPRECATED 'options' property (this will be later removed)\r\n\t\tif (jsc.pub.options) {\r\n\t\t\t// let's set custom default options, if specified\r\n\t\t\tfor (var opt in jsc.pub.options) {\r\n\t\t\t\tif (jsc.pub.options.hasOwnProperty(opt)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, jsc.pub.options[opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// let's apply configuration presets\r\n\t\t//\r\n\t\tvar presetsArr = [];\r\n\r\n\t\tif (opts.preset) {\r\n\t\t\tif (typeof opts.preset === 'string') {\r\n\t\t\t\tpresetsArr = opts.preset.split(/\\s+/);\r\n\t\t\t} else if (Array.isArray(opts.preset)) {\r\n\t\t\t\tpresetsArr = opts.preset.slice(); // slice() to clone\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn('Unrecognized preset value');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// always use the 'default' preset. If it's not listed, append it to the end.\r\n\t\tif (presetsArr.indexOf('default') === -1) {\r\n\t\t\tpresetsArr.push('default');\r\n\t\t}\r\n\r\n\t\t// let's apply the presets in reverse order, so that should there be any overlapping options,\r\n\t\t// the formerly listed preset will override the latter\r\n\t\tfor (var i = presetsArr.length - 1; i >= 0; i -= 1) {\r\n\t\t\tvar pres = presetsArr[i];\r\n\t\t\tif (!pres) {\r\n\t\t\t\tcontinue; // preset is empty string\r\n\t\t\t}\r\n\t\t\tif (!jsc.pub.presets.hasOwnProperty(pres)) {\r\n\t\t\t\tconsole.warn('Unknown preset: %s', pres);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tfor (var opt in jsc.pub.presets[pres]) {\r\n\t\t\t\tif (jsc.pub.presets[pres].hasOwnProperty(opt)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, jsc.pub.presets[pres][opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// let's set specific options for this color picker\r\n\t\tvar nonProperties = [\r\n\t\t\t// these options won't be set as instance properties\r\n\t\t\t'preset',\r\n\t\t];\r\n\t\tfor (var opt in opts) {\r\n\t\t\tif (opts.hasOwnProperty(opt)) {\r\n\t\t\t\tif (nonProperties.indexOf(opt) === -1) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, opts[opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\t// Install the color picker on chosen element(s)\r\n\t\t//\r\n\r\n\r\n\t\t// Determine picker's container element\r\n\t\tif (this.container === undefined) {\r\n\t\t\tthis.container = window.document.body; // default container is BODY element\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.container = jsc.node(this.container);\r\n\t\t}\r\n\r\n\t\tif (!this.container) {\r\n\t\t\tthrow new Error('Cannot instantiate color picker without a container element');\r\n\t\t}\r\n\r\n\r\n\t\t// Fetch the target element\r\n\t\tthis.targetElement = jsc.node(targetElement);\r\n\r\n\t\tif (!this.targetElement) {\r\n\t\t\t// temporarily customized error message to help with migrating from versions prior to 2.2\r\n\t\t\tif (typeof targetElement === 'string' && /^[a-zA-Z][\\w:.-]*$/.test(targetElement)) {\r\n\t\t\t\t// targetElement looks like valid ID\r\n\t\t\t\tvar possiblyId = targetElement;\r\n\t\t\t\tthrow new Error('If \\'' + possiblyId + '\\' is supposed to be an ID, please use \\'#' + possiblyId + '\\' or any valid CSS selector.');\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Cannot instantiate color picker without a target element');\r\n\t\t}\r\n\r\n\t\tif (this.targetElement.jscolor && this.targetElement.jscolor instanceof jsc.pub) {\r\n\t\t\tthrow new Error('Color picker already installed on this element');\r\n\t\t}\r\n\r\n\r\n\t\t// link this instance with the target element\r\n\t\tthis.targetElement.jscolor = this;\r\n\t\tjsc.addClass(this.targetElement, jsc.pub.className);\r\n\r\n\t\t// register this instance\r\n\t\tjsc.instances.push(this);\r\n\r\n\r\n\t\t// if target is BUTTON\r\n\t\tif (jsc.isButton(this.targetElement)) {\r\n\r\n\t\t\tif (this.targetElement.type.toLowerCase() !== 'button') {\r\n\t\t\t\t// on buttons, always force type to be 'button', e.g. in situations the target <button> has no type\r\n\t\t\t\t// and thus defaults to 'submit' and would submit the form when clicked\r\n\t\t\t\tthis.targetElement.type = 'button';\r\n\t\t\t}\r\n\r\n\t\t\tif (jsc.isButtonEmpty(this.targetElement)) { // empty button\r\n\t\t\t\t// it is important to clear element's contents first.\r\n\t\t\t\t// if we're re-instantiating color pickers on DOM that has been modified by changing page's innerHTML,\r\n\t\t\t\t// we would keep adding more non-breaking spaces to element's content (because element's contents survive\r\n\t\t\t\t// innerHTML changes, but picker instances don't)\r\n\t\t\t\tjsc.removeChildren(this.targetElement);\r\n\r\n\t\t\t\t// let's insert a non-breaking space\r\n\t\t\t\tthis.targetElement.appendChild(window.document.createTextNode('\\xa0'));\r\n\r\n\t\t\t\t// set min-width = previewSize, if not already greater\r\n\t\t\t\tvar compStyle = jsc.getCompStyle(this.targetElement);\r\n\t\t\t\tvar currMinWidth = parseFloat(compStyle['min-width']) || 0;\r\n\t\t\t\tif (currMinWidth < this.previewSize) {\r\n\t\t\t\t\tjsc.setStyle(this.targetElement, {\r\n\t\t\t\t\t\t'min-width': this.previewSize + 'px',\r\n\t\t\t\t\t}, this.forceStyle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Determine the value element\r\n\t\tif (this.valueElement === undefined) {\r\n\t\t\tif (jsc.isTextInput(this.targetElement)) {\r\n\t\t\t\t// for text inputs, default valueElement is targetElement\r\n\t\t\t\tthis.valueElement = this.targetElement;\r\n\t\t\t} else {\r\n\t\t\t\t// leave it undefined\r\n\t\t\t}\r\n\r\n\t\t} else if (this.valueElement === null) { // explicitly set to null\r\n\t\t\t// leave it null\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.valueElement = jsc.node(this.valueElement);\r\n\t\t}\r\n\r\n\t\t// Determine the alpha element\r\n\t\tif (this.alphaElement) {\r\n\t\t\tthis.alphaElement = jsc.node(this.alphaElement);\r\n\t\t}\r\n\r\n\t\t// Determine the preview element\r\n\t\tif (this.previewElement === undefined) {\r\n\t\t\tthis.previewElement = this.targetElement; // default previewElement is targetElement\r\n\r\n\t\t} else if (this.previewElement === null) { // explicitly set to null\r\n\t\t\t// leave it null\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.previewElement = jsc.node(this.previewElement);\r\n\t\t}\r\n\r\n\t\t// valueElement\r\n\t\tif (this.valueElement && jsc.isTextInput(this.valueElement)) {\r\n\r\n\t\t\t// If the value element has onInput event already set, we need to detach it and attach AFTER our listener.\r\n\t\t\t// otherwise the picker instance would still contain the old color when accessed from the onInput handler.\r\n\t\t\tvar valueElementOrigEvents = {\r\n\t\t\t\tonInput: this.valueElement.oninput\r\n\t\t\t};\r\n\t\t\tthis.valueElement.oninput = null;\r\n\r\n\t\t\tthis.valueElement.addEventListener('keydown', onValueKeyDown, false);\r\n\t\t\tthis.valueElement.addEventListener('change', onValueChange, false);\r\n\t\t\tthis.valueElement.addEventListener('input', onValueInput, false);\r\n\t\t\t// the original event listener must be attached AFTER our handler (to let it first set picker's color)\r\n\t\t\tif (valueElementOrigEvents.onInput) {\r\n\t\t\t\tthis.valueElement.addEventListener('input', valueElementOrigEvents.onInput, false);\r\n\t\t\t}\r\n\r\n\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\r\n\t\t\tthis.valueElement.setAttribute('autocorrect', 'off');\r\n\t\t\tthis.valueElement.setAttribute('autocapitalize', 'off');\r\n\t\t\tthis.valueElement.setAttribute('spellcheck', false);\r\n\t\t}\r\n\r\n\t\t// alphaElement\r\n\t\tif (this.alphaElement && jsc.isTextInput(this.alphaElement)) {\r\n\t\t\tthis.alphaElement.addEventListener('keydown', onAlphaKeyDown, false);\r\n\t\t\tthis.alphaElement.addEventListener('change', onAlphaChange, false);\r\n\t\t\tthis.alphaElement.addEventListener('input', onAlphaInput, false);\r\n\r\n\t\t\tthis.alphaElement.setAttribute('autocomplete', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('autocorrect', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('autocapitalize', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('spellcheck', false);\r\n\t\t}\r\n\r\n\t\t// determine initial color value\r\n\t\t//\r\n\t\tvar initValue = 'FFFFFF';\r\n\r\n\t\tif (this.value !== undefined) {\r\n\t\t\tinitValue = this.value; // get initial color from the 'value' property\r\n\t\t} else if (this.valueElement && this.valueElement.value !== undefined) {\r\n\t\t\tinitValue = this.valueElement.value; // get initial color from valueElement's value\r\n\t\t}\r\n\r\n\t\t// determine initial alpha value\r\n\t\t//\r\n\t\tvar initAlpha = undefined;\r\n\r\n\t\tif (this.alpha !== undefined) {\r\n\t\t\tinitAlpha = (''+this.alpha); // get initial alpha value from the 'alpha' property\r\n\t\t} else if (this.alphaElement && this.alphaElement.value !== undefined) {\r\n\t\t\tinitAlpha = this.alphaElement.value; // get initial color from alphaElement's value\r\n\t\t}\r\n\r\n\t\t// determine current format based on the initial color value\r\n\t\t//\r\n\t\tthis._currentFormat = null;\r\n\r\n\t\tif (['auto', 'any'].indexOf(this.format.toLowerCase()) > -1) {\r\n\t\t\t// format is 'auto' or 'any' -> let's auto-detect current format\r\n\t\t\tvar color = jsc.parseColorString(initValue);\r\n\t\t\tthis._currentFormat = color ? color.format : 'hex';\r\n\t\t} else {\r\n\t\t\t// format is specified\r\n\t\t\tthis._currentFormat = this.format.toLowerCase();\r\n\t\t}\r\n\r\n\r\n\t\t// let's parse the initial color value and expose color's preview\r\n\t\tthis.processValueInput(initValue);\r\n\r\n\t\t// let's also parse and expose the initial alpha value, if any\r\n\t\t//\r\n\t\t// Note: If the initial color value contains alpha value in it (e.g. in rgba format),\r\n\t\t// this will overwrite it. So we should only process alpha input if there was initial\r\n\t\t// alpha explicitly set, otherwise we could needlessly lose initial value's alpha\r\n\t\tif (initAlpha !== undefined) {\r\n\t\t\tthis.processAlphaInput(initAlpha);\r\n\t\t}\r\n\r\n\t\tif (this.random) {\r\n\t\t\t// randomize the initial color value\r\n\t\t\tthis.randomize.apply(this, Array.isArray(this.random) ? this.random : []);\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n//================================\r\n// Public properties and methods\r\n//================================\r\n\r\n//\r\n// These will be publicly available via jscolor.<name> and JSColor.<name>\r\n//\r\n\r\n\r\n// class that will be set to elements having jscolor installed on them\r\njsc.pub.className = 'jscolor';\r\n\r\n\r\n// class that will be set to elements having jscolor active on them\r\njsc.pub.activeClassName = 'jscolor-active';\r\n\r\n\r\n// whether to try to parse the options string by evaluating it using 'new Function()'\r\n// in case it could not be parsed with JSON.parse()\r\njsc.pub.looseJSON = true;\r\n\r\n\r\n// presets\r\njsc.pub.presets = {};\r\n\r\n// built-in presets\r\njsc.pub.presets['default'] = {}; // baseline for customization\r\n\r\njsc.pub.presets['light'] = { // default color scheme\r\n\tbackgroundColor: 'rgba(255,255,255,1)',\r\n\tcontrolBorderColor: 'rgba(187,187,187,1)',\r\n\tbuttonColor: 'rgba(0,0,0,1)',\r\n};\r\njsc.pub.presets['dark'] = {\r\n\tbackgroundColor: 'rgba(51,51,51,1)',\r\n\tcontrolBorderColor: 'rgba(153,153,153,1)',\r\n\tbuttonColor: 'rgba(240,240,240,1)',\r\n};\r\n\r\njsc.pub.presets['small'] = { width:101, height:101, padding:10, sliderSize:14, paletteCols:8 };\r\njsc.pub.presets['medium'] = { width:181, height:101, padding:12, sliderSize:16, paletteCols:10 }; // default size\r\njsc.pub.presets['large'] = { width:271, height:151, padding:12, sliderSize:24, paletteCols:15 };\r\n\r\njsc.pub.presets['thin'] = { borderWidth:1, controlBorderWidth:1, pointerBorderWidth:1 }; // default thickness\r\njsc.pub.presets['thick'] = { borderWidth:2, controlBorderWidth:2, pointerBorderWidth:2 };\r\n\r\n\r\n// size of space in the sliders\r\njsc.pub.sliderInnerSpace = 3; // px\r\n\r\n// transparency chessboard\r\njsc.pub.chessboardSize = 8; // px\r\njsc.pub.chessboardColor1 = '#666666';\r\njsc.pub.chessboardColor2 = '#999999';\r\n\r\n// preview separator\r\njsc.pub.previewSeparator = ['rgba(255,255,255,.65)', 'rgba(128,128,128,.65)'];\r\n\r\n\r\n// Initializes jscolor\r\njsc.pub.init = function () {\r\n\tif (jsc.initialized) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// attach some necessary handlers\r\n\twindow.document.addEventListener('mousedown', jsc.onDocumentMouseDown, false);\r\n\twindow.document.addEventListener('keyup', jsc.onDocumentKeyUp, false);\r\n\twindow.addEventListener('resize', jsc.onWindowResize, false);\r\n\twindow.addEventListener('scroll', jsc.onWindowScroll, false);\r\n\r\n\t// append default CSS to HEAD\r\n\tjsc.appendDefaultCss();\r\n\r\n\t// install jscolor on current DOM\r\n\tjsc.pub.install();\r\n\r\n\tjsc.initialized = true;\r\n\r\n\t// call functions waiting in the queue\r\n\twhile (jsc.readyQueue.length) {\r\n\t\tvar func = jsc.readyQueue.shift();\r\n\t\tfunc();\r\n\t}\r\n};\r\n\r\n\r\n// Installs jscolor on current DOM tree\r\njsc.pub.install = function (rootNode) {\r\n\tvar success = true;\r\n\r\n\ttry {\r\n\t\tjsc.installBySelector('[data-jscolor]', rootNode);\r\n\t} catch (e) {\r\n\t\tsuccess = false;\r\n\t\tconsole.warn(e);\r\n\t}\r\n\r\n\t// for backward compatibility with DEPRECATED installation using class name\r\n\tif (jsc.pub.lookupClass) {\r\n\t\ttry {\r\n\t\t\tjsc.installBySelector(\r\n\t\t\t\t(\r\n\t\t\t\t\t'input.' + jsc.pub.lookupClass + ', ' +\r\n\t\t\t\t\t'button.' + jsc.pub.lookupClass\r\n\t\t\t\t),\r\n\t\t\t\trootNode\r\n\t\t\t);\r\n\t\t} catch (e) {}\r\n\t}\r\n\r\n\treturn success;\r\n};\r\n\r\n\r\n// Registers function to be called as soon as jscolor is initialized (or immediately, if it already is).\r\n//\r\njsc.pub.ready = function (func) {\r\n\tif (typeof func !== 'function') {\r\n\t\tconsole.warn('Passed value is not a function');\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (jsc.initialized) {\r\n\t\tfunc();\r\n\t} else {\r\n\t\tjsc.readyQueue.push(func);\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n\r\n// Triggers given input event(s) (e.g. 'input' or 'change') on all color pickers.\r\n//\r\n// It is possible to specify multiple events separated with a space.\r\n// If called before jscolor is initialized, then the events will be triggered after initialization.\r\n//\r\njsc.pub.trigger = function (eventNames) {\r\n\tvar triggerNow = function () {\r\n\t\tjsc.triggerGlobal(eventNames);\r\n\t};\r\n\r\n\tif (jsc.initialized) {\r\n\t\ttriggerNow();\r\n\t} else {\r\n\t\tjsc.pub.ready(triggerNow);\r\n\t}\r\n};\r\n\r\n\r\n// Hides current color picker box\r\njsc.pub.hide = function () {\r\n\tif (jsc.picker && jsc.picker.owner) {\r\n\t\tjsc.picker.owner.hide();\r\n\t}\r\n};\r\n\r\n\r\n// Returns a data URL of a gray chessboard image that indicates transparency\r\njsc.pub.chessboard = function (color) {\r\n\tif (!color) {\r\n\t\tcolor = 'rgba(0,0,0,0)';\r\n\t}\r\n\tvar preview = jsc.genColorPreviewCanvas(color);\r\n\treturn preview.canvas.toDataURL();\r\n};\r\n\r\n\r\n// Returns a data URL of a gray chessboard image that indicates transparency\r\njsc.pub.background = function (color) {\r\n\tvar backgrounds = [];\r\n\r\n\t// CSS gradient for background color preview\r\n\tbackgrounds.push(jsc.genColorPreviewGradient(color));\r\n\r\n\t// data URL of generated PNG image with a gray transparency chessboard\r\n\tvar preview = jsc.genColorPreviewCanvas();\r\n\tbackgrounds.push([\r\n\t\t'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t'left top',\r\n\t\t'repeat',\r\n\t].join(' '));\r\n\r\n\treturn backgrounds.join(', ');\r\n};\r\n\r\n\r\n//\r\n// DEPRECATED properties and methods\r\n//\r\n\r\n\r\n// DEPRECATED. Use jscolor.presets.default instead.\r\n//\r\n// Custom default options for all color pickers, e.g. { hash: true, width: 300 }\r\njsc.pub.options = {};\r\n\r\n\r\n// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n//\r\n// By default, we'll search for all elements with class=\"jscolor\" and install a color picker on them.\r\n//\r\n// You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n//\r\njsc.pub.lookupClass = 'jscolor';\r\n\r\n\r\n// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n//\r\n// Install jscolor on all elements that have the specified class name\r\njsc.pub.installByClassName = function () {\r\n\tconsole.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor=\"\" attribute instead of a class name.' + jsc.docsRef);\r\n\treturn false;\r\n};\r\n\r\n\r\njsc.register();\r\n\r\n\r\nreturn jsc.pub;\r\n\r\n\r\n})(); // END jscolor\r\n\r\n\r\nif (typeof window.jscolor === 'undefined') {\r\n\twindow.jscolor = window.JSColor = jscolor;\r\n}\r\n\r\n\r\n// END jscolor code\r\n\r\nreturn jscolor;\r\n\r\n}); // END factory\r\n","import { Site } from './site'\nimport { Sidebar } from './sidebar';\n\nexport class App{\n  constructor(model){\n    this.model = model\n\n    this.init()\n  }\n\n  init(){\n    const site = new Site('#site')\n\n    site.render(this.model)\n\n    const updateCallback = newBlock => {\n      this.model.push(newBlock)\n      site.render(this.model)\n    }\n\n    new Sidebar('#panel', updateCallback)\n  }\n}","export class Site{\n  constructor(selector){\n    this.$el = document.querySelector(selector)\n  }\n\n  render(model){\n    this.$el.innerHTML = ''\n    model.forEach(block => {\n      site.insertAdjacentHTML('beforeend', block.toHTML())\n    })\n  }\n}","import { TitleHTML, TextHTML, ColumnsHTML } from \"../utils\"\nimport { TextBlock, TitleBlock, ColumnsBlock } from './blocks';\n\nexport class Sidebar{\n  constructor(selector, updateCallback){\n    this.$el = document.querySelector(selector)\n    this.update = updateCallback\n\n    this.init()\n  }\n\n  init(){\n    this.template.map(form => {\n      this.$el.insertAdjacentHTML('beforeend', form)\n      this.$el.addEventListener('submit', this.add.bind(this))\n    })\n  }\n\n  get template(){\n    return [\n      TitleHTML('title'),\n      TextHTML('text'),\n      ColumnsHTML('columns'),\n    ]\n  }\n\n  add(event){\n    event.preventDefault()\n\n    const type = event.target.name\n    let newBlock = ''\n\n    if(type === 'title'){\n      const value = event.target.value.value\n      const tag = [...event.target.tag].find(i => i.checked === true).id\n      const textAlign = [...event.target['text-align']].find(i => i.checked === true).id\n      const fontSize = event.target['font-size'].value == '' ? 16 : event.target['font-size'].value\n      const background = event.target.background.value\n      const color = event.target.color.value\n\n      const styles = {\n        'text-align': textAlign,\n        background,\n        color,\n      }\n      const fz = {\n        'font-size': fontSize + 'px',\n      }\n\n      newBlock = new TitleBlock(value, {tag, styles, fz})\n      event.target.value.value = ''\n\n    } else if (type === 'text') {\n      const value = event.target.value.value\n      const fontSize = event.target['font-size'].value == '' ? 16 : event.target['font-size'].value\n      const background = event.target.background.value\n      const color = event.target.color.value\n\n      const styles = {\n        'font-size': fontSize + 'px',\n        background,\n        color,\n      }\n\n      newBlock = new TextBlock(value, {styles})\n      event.target.value.value = ''\n\n    } else if (type === 'columns') {\n      const value1 = event.target.value1.value\n      const value2 = event.target.value2.value\n      const value3 = event.target.value3.value\n      const value4 = event.target.value4.value\n      const value5 = event.target.value5.value\n      const fontSize = event.target['font-size'].value == '' ? 16 : event.target['font-size'].value\n      const background = event.target.background.value\n      const color = event.target.color.value\n\n      const value = []\n      value1 && value.push(value1)\n      value2 && value.push(value2)\n      value3 && value.push(value3)\n      value4 && value.push(value4)\n      value5 && value.push(value5)\n\n      const styles = {\n        padding: '20px',\n        'font-size': fontSize + 'px',\n        background,\n        color,\n      }\n\n      newBlock = new ColumnsBlock(value, {styles})\n      event.target.value1.value = ''\n      event.target.value2.value = ''\n      event.target.value3.value = ''\n      event.target.value4.value = ''\n      event.target.value5.value = ''\n\n    } else {\n\n    }\n      \n    this.update(newBlock)\n\n    \n    \n  }\n}\n\n"],"names":[],"version":3,"file":"index.975ef6c8.js.map","sourceRoot":"/__parcel_source_root/"}